<s:div id="#{divId}" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:cats="http://www.ithaka.org/cats">
	
	<div class="smart">
		<div class="header">
			<div class="left">
				<span class="museo">
					<h:outputText value="#{tableId eq 'checkinAcqOrdersTable' ? 'Open Orders for this Component': 'Orders for this Component'} (#{acqOrdersList.size})" />
				</span>
				<a:commandLink value="X" action="#{sortFiltBean.resetSortFilt('acqOrders'.concat(divId))}" 
					ignoreDupResponses="true" status="globalWaitStatus"  reRender="#{tableId}" 
					styleClass="button wizard"
					eventsQueue="cmptsEditQueue"/>
			</div>
			<div class="right">				
				<a:commandLink 
				    ignoreDupResponses="true"
				    action="#{createAcqOrdersWizard.prepCreateOperation(catCmptsHome.instance)}"
					value="Add Order"
					reRender="createAcqOrdersOperationsPanels" 
					oncomplete="Richfaces.showModalPanel('createAcqOrdersPanel');"
	                styleClass="button wizard #{!s:hasPermission(catAcqOrdersList.catAcqOrders, 'create CatAcqOrders') ? 'disabled' : ''}"
	                disabled="#{!s:hasPermission(catAcqOrdersList.catAcqOrders, 'create CatAcqOrders')}"
	                status="globalWaitStatus"
					eventsQueue="cmptsEditQueue"
					ajaxSingle="true"
					onclick="if ( ! checkForSave() ) { return false ; }"/>
				
				
			</div>
		</div>
		<rich:dataTable id="#{tableId}" var="_catAcqOrders"
			value="#{acqOrdersList}"
			rendered="#{not empty acqOrdersList}">

			
			
			<rich:column id="acqOrderLifecycle" sortBy="#{_catAcqOrders.catLifecycle.label}"
				filterBy="#{_catAcqOrders.catLifecycle.label}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders2_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders2_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Lifecycle" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catLifecycle.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderOutcome" sortBy="#{_catAcqOrders.catOutcome.label}"
				filterBy="#{_catAcqOrders.catOutcome.label}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders3_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders3_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Outcome" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catOutcome.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderSetName" sortBy="#{_catAcqOrders.catCmpts.setsValue}"
				filterBy="#{_catAcqOrders.catCmpts.setsValue}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders8_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders8_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Sets" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catCmpts.setsValue}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderCmptName" sortBy="#{_catAcqOrders.catCmpts.catName}"
				filterBy="#{_catAcqOrders.catCmpts.catName}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders10_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders10_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Component" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catCmpts.catName}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderPubUnitRan" sortBy="#{_catAcqOrders.catPublctnUnitRange}"
				filterBy="#{_catAcqOrders.catPublctnUnitRange}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders14_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders14_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Extent (Pub. Units)" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catPublctnUnitRange}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderCovDateRan" sortBy="#{_catAcqOrders.catCoverDateRange}"
				filterBy="#{_catAcqOrders.catCoverDateRange}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders13_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders13_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Extent (Dates)" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catCoverDateRange}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderSupplier" sortBy="#{_catAcqOrders.catSupplier}"
				filterBy="#{_catAcqOrders.catSupplier}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders11_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders11_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Supplier" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catSupplier}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderSupplierCom" sortBy="#{_catAcqOrders.catSupplierCommitment.label}"
				filterBy="#{_catAcqOrders.catSupplierCommitment.label}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders12_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders12_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Commitment" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catSupplierCommitment.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderType" sortBy="#{_catAcqOrders.catType.label}"
				filterBy="#{_catAcqOrders.catType.label}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders4_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders4_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Type" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catType.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderRObl" sortBy="#{_catAcqOrders.catReturnObligation.label}"
				filterBy="#{_catAcqOrders.catReturnObligation.label}" sortable="true"
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders5_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders5_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Obligation" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.catReturnObligation.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderShpOpen" sortBy="#{_catAcqOrders.openShipmentsCount}"
				filterBy="#{_catAcqOrders.openShipmentsCount}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders15_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders15_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Open Ships" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.openShipmentsCount}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderShpCompleted" sortBy="#{_catAcqOrders.completedShipmentsCount}"
				filterBy="#{_catAcqOrders.completedShipmentsCount}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders16_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders16_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Completed Ships" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.completedShipmentsCount}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderProbOpen" sortBy="#{_catAcqOrders.openProblemsCount}"
				filterBy="#{_catAcqOrders.openProblemsCount}" sortable="true" 
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders17_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders17_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Open Probs" />
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.openProblemsCount}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderId" sortBy="#{_catAcqOrders.id}"
				filterBy="#{__catAcqOrders.id}" sortable="true"
				sortOrder="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders1_sortOrder']}"
				filterValue="#{sortFiltBean['acqOrders'.concat(divId)]['acqOrders1_filterValue']}">
				<f:facet name="header">
					<h:outputText value="ID"/>
				</f:facet>
				  <s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
					<f:param name="id" value="#{_catAcqOrders.id}"/>
					<h:outputText value="#{_catAcqOrders.id}" />
				</s:link>
			</rich:column>
			
		</rich:dataTable>

	</div>



</s:div>