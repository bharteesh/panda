<s:div id="#{divId}" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:cats="http://www.ithaka.org/cats">
	
	
	
	<div class="smart">
		<div class="header">
			<div class="left">
				<span class="museo">
						<h:outputText value="#{tableId eq 'checkinShipmentsTable' ? 'Open Shipments for this Component':'Shipments for this Component'} (#{issueShipmentsList.size})" />
				</span>
				<a:commandLink value="X" action="#{sortFiltBean.resetSortFilt('issueShip'.concat(divId))}" 
					ignoreDupResponses="true" status="globalWaitStatus"  reRender="#{tableId}" 
					styleClass="button wizard"
					eventsQueue="cmptsEditQueue"/>
			</div>
			<div class="right">
				<h:selectOneMenu id="#{tableId}catIssueShpmntsBulkOpSelect"
					rendered="#{not empty issueShipmentsList}"
					value="#{catIssueShipmentsBulkOperations.bulkOperationsType}">
					<a:support  limitToList="true" event="onchange"                
					action="#{catIssueShipmentsBulkOperations.prepBulkOperations( 'catIssueShipmentsList', ''.concat(tableId).concat('catIssueShpmntsBulkOpSelect') )}" 
					reRender="issueshipmentsbulkOperationsPanels" 
					oncomplete="if ( #{rich:element(''.concat(tableId).concat('catIssueShpmntsBulkOpSelect'))}.options.selectedIndex != 0 ) 
									{ #{rich:component('issueshipmentsbulkUpdatePanel')}.show(); } ; return false; " 
					ignoreDupResponses="true"  status="globalWaitStatus"  />
					<s:selectItems
						value="#{catIssueShipmentsBulkOperations.bulkOperationsNames}" var="b"
						label="#{catIssueShipmentsBulkOperations.bulkOperations[b]}"
						itemValue="#{b}" noSelectionLabel="Bulk Operations" />
				</h:selectOneMenu>
				<a:commandLink 
					ignoreDupResponses="true"
	    			eventsQueue="cmptsEditQueue"
	         		status="globalWaitStatus"
		    		action="#{duplicateIssueShipmentsWizard.duplicateUsingBulk('DUPLICATEISSUESHIPMENTS', duplicateIssueShipmentsWizard.initiatorFromListView)}"
					value="Copy Shipment"
					reRender="issueshipmentsduplicateOperationsPanels,catIssueShipmentsList" 
					oncomplete="Richfaces.showModalPanel('issueshipmentsduplicateUpdatePanel');"
	                styleClass="button wizard #{!s:hasPermission(catIssueShipmentsList.catIssueShipments, 'create CatIssueShipments') ? 'disabled' : ''}"
	                disabled="#{!s:hasPermission(catIssueShipmentsList.catIssueShipments, 'create CatIssueShipments')}"/>
					
				<a:commandLink
              		status="globalWaitStatus"
					eventsQueue="cmptsEditQueue"
              		disabled="#{!s:hasPermission(catIssueShipmentsList.catIssueShipments, 'create CatIssueShipments')}"
	        	    action="#{createIssueShipmentsWizard.prepCreateOperation(catCmptsHome.instance)}"
				    value="Add Shipment"
				    reRender="createIssueShipmentsOperationsPanels,createIssueShipmentswizard,catIssueShipmentsList" 
				    oncomplete="Richfaces.showModalPanel('createIssueShipmentsPanel');"
				    styleClass="button wizard #{!s:hasPermission(catIssueShipmentsList.catIssueShipments, 'create CatIssueShipments') ? 'disabled' : ''}"
				    ajaxSingle="true"
				    onclick="if ( ! checkForSave() ) { return false ; }"/>
			</div>
		</div>
		<rich:dataTable id="#{tableId}" var="_catShipment"
			value="#{issueShipmentsList}"
			rendered="#{not empty issueShipmentsList}">
           
        	<rich:column rendered="true" width="20px">
					<f:facet name="header">
						<input type="checkbox" id="select_all_checkbox1"
								name="select_all_checkbox"
								onclick="if ( this.checked ) { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = true; }); } else { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = false; }); }" />
					</f:facet>
					<h:selectBooleanCheckbox styleClass="#{divId}bulk_checkbox"
						value="#{catIssueShipmentsBulkOperations.selections[_catShipment]}" />
				</rich:column>
			
			<rich:column id="lifecycle" sortBy="#{_catShipment.catLifecycle.label}"
				filterBy="#{_catShipment.catLifecycle.label}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue5_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue5_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Lifecycle"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catLifecycle.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="outcome" sortBy="#{_catShipment.catOutcome.label}"
				filterBy="#{_catShipment.catOutcome.label}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue6_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue6_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Outcome"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catOutcome.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="setName" sortBy="#{_catShipment.catCmpts.setsValue}"
				filterBy="#{_catShipment.catCmpts.setsValue}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue24_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue24_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Sets"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catCmpts.setsValue}" />
				</s:link>
			</rich:column>
			
			<rich:column id="cmptName" sortBy="#{_catShipment.catCmpts.catName}"
				filterBy="#{_catShipment.catCmpts.catName}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue4_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue4_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Component"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catCmpts.catName}" />
				</s:link>
			</rich:column>
			
			<rich:column id="pubUnitRange" sortBy="#{_catShipment.catPublctnUnitRange}"
				filterBy="#{_catShipment.catPublctnUnitRange}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue8_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue8_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Extent (Pub. Units)"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catPublctnUnitRange}" />
				</s:link>
			</rich:column>
			
			<rich:column id="coverDateRange" sortBy="#{_catShipment.catCoverDateRange}"
				filterBy="#{_catShipment.catCoverDateRange}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue7_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue7_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Extent (Dates)"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catCoverDateRange}" />
				</s:link>
			</rich:column>
			
			<rich:column id="ownership" sortBy="#{_catShipment.catOwnership.label}"
				filterBy="#{_catShipment.catOwnership.label}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue9_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue9_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Owner"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catOwnership.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="returnObligation" sortBy="#{_catShipment.catReturnObligation.label}"
				filterBy="#{_catShipment.catReturnObligation.label}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue10_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue10_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Obligation"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catReturnObligation.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="disposition" sortBy="#{_catShipment.catDisposition.label}"
				filterBy="#{_catShipment.catDisposition.label}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue11_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue11_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Disposition"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catDisposition.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="dateComp" sortBy="#{_catShipment.catDateCompleted}"
				filterBy="#{_catShipment.catDateCompleted}" sortable="true"
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue22_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue22_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Completed"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catDateCompleted}">
						<s:convertDateTime type="date" pattern="yyyy/MM/dd"/>
					</h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="onHold" sortBy="#{_catShipment.catOnHold}"
				filterBy="#{_catShipment.catOnHold}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue12_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue12_filterValue']}">
				<f:facet name="header">
					<h:outputText value="On Hold"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catOnHold ? 'Yes' : 'No'}" />
				</s:link>
			</rich:column>

			<rich:column id="shipmentId" sortBy="#{_catShipment.id}"
				filterBy="#{_catShipment.id}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue1_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue1_filterValue']}">
				<f:facet name="header">
					<h:outputText value="ID"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.id}" />
				</s:link>
			</rich:column>
			
			<rich:column id="acqOrderId" sortBy="#{_catShipment.catAcqOrders.id}"
				filterBy="#{_catShipment.catAcqOrders.id}" sortable="true" 
				sortOrder="#{sortFiltBean['issueShip'.concat(divId)]['issue2_sortOrder']}"
				filterValue="#{sortFiltBean['issueShip'.concat(divId)]['issue2_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Order ID"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catShipment.id}"/>
					<h:outputText value="#{_catShipment.catAcqOrders.id}" />
				</s:link>
			</rich:column>
		
		</rich:dataTable>

	</div>



</s:div>