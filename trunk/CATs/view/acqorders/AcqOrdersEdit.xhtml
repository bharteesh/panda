<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="../layout/template.xhtml">

	<ui:param name="entityType" value="orders" />
	<ui:define name="badge">
		<ui:include src="AcqOrdersBadge.xhtml" />
	</ui:define>

	<ui:define name="body">


		<h:form id="catAcqOrdersHomeEdit">
			<!-- Shows hour glass when the table is loading -->
			<div id="globalStatusDiv" style="display: none;">
				<img src="../img/loading.gif" />
			</div>
			<a:status id="globalWaitStatus" forceId="true" layout="none"
				onstart="jQuery('#globalStatusDiv').fadeIn('fast')"
				onstop="jQuery('#globalStatusDiv').fadeOut('slow')" />

			<rich:tabPanel id="maintab" switchType="ajax"
				selectedTab="#{catAcqOrdersHome.selectedTab}" styleClass="tab"
				contentClass="tab_content">

				<rich:tab label="Order Information" id="tab1" name="tab1"
					eventsQueue="catAcqOrdersEditQueue" status="globalWaitStatus"
					oncomplete="addDisabledToDisabled(); addDisabledToReadonly();"
					reRender="orderInfoTabLayout,relatedInfoTabLayout,legacyTabLayout,auditTabLayout"
					action="#{catAcqOrdersHome.updateUserTabPreferences('tab1')}">
					<ui:include src="AcqOrdersOrderInformationTab.xhtml" />
				</rich:tab>
				<rich:tab label="Related Orders" id="tab2" name="tab2"
					eventsQueue="catAcqOrdersEditQueue" status="globalWaitStatus"
					oncomplete="addDisabledToDisabled(); addDisabledToReadonly();"
					reRender="orderInfoTabLayout,relatedInfoTabLayout,legacyTabLayout,auditTabLayout"
					action="#{catAcqOrdersHome.updateUserTabPreferences('tab2')}">
					<ui:include src="AcqOrdersRelatedOrdersTab.xhtml" />
				</rich:tab>
				<rich:tab label="Legacy" id="tab3" name="tab3"
					eventsQueue="catAcqOrdersEditQueue" status="globalWaitStatus"
					oncomplete="addDisabledToDisabled(); addDisabledToReadonly();"
					reRender="orderInfoTabLayout,relatedInfoTabLayout,legacyTabLayout,auditTabLayout"
					action="#{catAcqOrdersHome.updateUserTabPreferences('tab3')}">
					<ui:include src="AcqOrdersLegacyTab.xhtml" />
				</rich:tab>
				<rich:tab label="Audit" id="tab4" name="tab4"
					eventsQueue="catAcqOrdersEditQueue" status="globalWaitStatus"
					oncomplete="addDisabledToDisabled(); addDisabledToReadonly();"
					reRender="orderInfoTabLayout,relatedInfoTabLayout,legacyTabLayout,auditTabLayout"
					action="#{catAcqOrdersHome.updateUserTabPreferences('tab4')}">
					<ui:include src="AcqOrdersAuditTab.xhtml" />
				</rich:tab>
			</rich:tabPanel>

			<div id="functions">
				<a:commandLink action="#{catAcqOrdersHome.removeOrders}"
					ignoreDupResponses="true" status="globalWaitStatus"
					disabled="#{!s:hasPermission(catAcqOrdersHome.instance, 'delete CatAcqOrders') or !catAcqOrdersHome.ordersDeletable}"
					styleClass="button delete #{!s:hasPermission(catAcqOrdersHome.instance, 'delete CatAcqOrders') or !catAcqOrdersHome.ordersDeletable ? 'disabled' : ''}"
					value="Delete" />

				<a:commandLink action="#{catAcqOrdersHome.update}"
					onclick=" if ( jQuery(this).hasClass('disabled') ) { return false; } "
					ignoreDupResponses="true" styleClass="button saveOrCancel disabled"
					value="Save" reRender="catAcqOrdersHomeEdit"
					eventsQueue="catAcqOrdersEditQueue" status="globalWaitStatus" />
				<a:commandLink action="#{catAcqOrdersHome.cancel}"
					onclick=" if ( jQuery(this).hasClass('disabled') ) { return false; } "
					ignoreDupResponses="true" ajaxSingle="true"
					styleClass="button saveOrCancel disabled" value="Cancel"
					eventsQueue="catAcqOrdersEditQueue" status="globalWaitStatus" />
			</div>

		</h:form>

		<a:form>

			<a:outputPanel layout="none" id="orderInfoTabLayout">
				<s:div id="orderInfoTabTablesDiv"
					rendered="#{empty catAcqOrdersHome.selectedTab or catAcqOrdersHome.selectedTab eq 'tab1'}">
					<!--  Issue shipments  -->
					<ui:include src="AcqOrdersOrderInfoIssueShipmentsTable.xhtml">
						<ui:param name="divId" value="thIssueShipmentsTableDiv" />
						<ui:param name="tableId" value="thIssueShipmentsTable" />
					</ui:include>
					<!-- Order Problems -->
					<ui:include src="AcqOrdersOrderInfoAcqOrdersProblemsTable.xhtml">
						<ui:param name="divId" value="thAcqOrdersProblemsTableDiv" />
						<ui:param name="tableId" value="thAcqOrdersProblemsTable" />
					</ui:include>

				</s:div>
			</a:outputPanel>
			<a:outputPanel layout="none" id="relatedInfoTabLayout">
				<s:div id="relatedInfoTabTablesDiv"
					rendered="#{catAcqOrdersHome.selectedTab eq 'tab2'}">
					<!--  Related Orders  -->
					<ui:include src="AcqOrdersRelatedOrdersOtherAcqOrdersTable.xhtml">
						<ui:param name="divId" value="thOtherAcqOrdersTableDiv" />
						<ui:param name="tableId" value="thOtherAcqOrdersTable" />
					</ui:include>

				</s:div>
			</a:outputPanel>
			<a:outputPanel layout="none" id="legacyTabLayout">
				<s:div id="legacyTabTablesDiv"
					rendered="#{catAcqOrdersHome.selectedTab eq 'tab3'}">
					<!--  Empty - No tables  -->
				</s:div>
			</a:outputPanel>
			<a:outputPanel layout="none" id="auditTabLayout">
				<s:div id="auditTabTablesDiv"
					rendered="#{catAcqOrdersHome.selectedTab eq 'tab4'}">
					<!--  Empty - No tables  -->
				</s:div>
			</a:outputPanel>

		</a:form>

		<ui:include src="bulkm_CatAcqOrders.xhtml">
			<!-- 'reRenderMe' useful for bulk actions from List screen-->
			<!--  'divParam' needed for 'eventQueue' name -->
			<!-- <ui:param name="reRenderMe" value="catAcqOrdersList"/> -->
			<ui:param name="divParam" value="AcqOrdersEditbulkm_CatAcqOrders" />
			<ui:param name="pageURL" value="Yes" />
		</ui:include>

		<ui:include src="createm_AcqOrdersNote.xhtml">
			<ui:param name="divParam" value="notesList" />
			<ui:param name="reRenderMe" value="tadDivId,notesId,notesList1" />
			<ui:param name="pageURL" value="Yes" />
		</ui:include>


		<ui:include src="../issueshipments/createm_IssueShipments.xhtml">
			<ui:param name="reRenderMe" value="catIssueShipmentsList" />
			<ui:param name="divParam" value="AcqOrdersEditcreatem_IssueShipments" />
			<ui:param name="pageURL" value="Yes" />
		</ui:include>

		<ui:include src="createm_AcqOrders.xhtml">
			<!-- 'reRenderMe' useful for bulk actions from List screen-->
			<!--  'divParam' needed for 'eventQueue' name -->
			<!-- <ui:param name="reRenderMe" value="catAcqOrdersList"/> -->
			<ui:param name="divParam" value="AcqOrdersEditcreatem_AcqOrders" />
			<ui:param name="pageURL" value="Yes" />
		</ui:include>

		<ui:include src="../acqordersproblems/createm_AcqOrdersProblems.xhtml">
			<!-- 'reRenderMe' useful for bulk actions from List screen-->
			<!--  'divParam' needed for 'eventQueue' name -->
			<!-- <ui:param name="reRenderMe" value="catAcqOrdersList"/> -->
			<ui:param name="divParam"
				value="AcqOrdersEditcreatem_AcqOrdersProblems" />
			<ui:param name="pageURL" value="Yes" />
		</ui:include>


		<ui:include src="/issueshipments/bulkm_IssueShipments.xhtml">
			<ui:param name="divParam"
				value="IssueShipmentsEditbulkm_IssueShipments" />
			<ui:param name="pageURL" value="Yes" />
		</ui:include>
		
		<ui:include src="/issueshipments/duplicatem_IssueShipments.xhtml">
		   <ui:param name="divParam" value="CatIssueShipmentsListduplicatem_IssueShipments"/>
		   <ui:param name="pageURL" value="Yes"/>
		</ui:include>
		<ui:include src="/onholdreason/updateOnHoldReason_modal.xhtml">
			<ui:param name="pageURL" value="Yes" />
		</ui:include>

	</ui:define>

	<ui:define name="notes">
		<ui:include src="AcqOrdersNotes.xhtml" />
	</ui:define>

</ui:composition>
