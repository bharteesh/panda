<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib">

	<h2><h:outputText value="#{catDisciplinesBulkOperations.bulkTitle}" /></h2>

	<div id="step1">
	<ul class="steps">
		<li class="disabled">1. Permissions</li>
		<li class="disabled">2. Change</li>
		<li class="disabled">3. Additional</li>
		<li class="selected">4. Results</li>
	</ul>
	<div class="cluster smart">

	<s:fragment rendered="#{not empty catDisciplinesBulkOperations.bulkSelection}">
	<p><h:outputText
		value="You updated these #{catDisciplinesBulkOperations.bulkSelection.size()} records:" /></p>

	<cats:dumbTableDisciplines
		value="#{catDisciplinesBulkOperations.bulkSelection}" />
		</s:fragment>
	<s:fragment rendered="#{empty catDisciplinesBulkOperations.bulkSelection}">	
	<p>No records were updated!</p>
	</s:fragment>
		 
	<s:fragment
		rendered="#{not empty catDisciplinesBulkOperations.couldNotBeInProgress}">

		<p><h:outputText
			value="These #{catDisciplinesBulkOperations.couldNotBeInProgress.size()} records could not be updated into the 'Implemented' lifecycle:" /></p>

		<cats:dumbTableDisciplines
			value="#{catDisciplinesBulkOperations.couldNotBeInProgress}" />

	</s:fragment>
	
	<s:fragment
		rendered="#{not empty catDisciplinesBulkOperations.couldNotBeCompleted}">

		<p><h:outputText
			value="These #{catDisciplinesBulkOperations.couldNotBeCompleted.size()} records could not be updated into the 'Completed' lifecycle:" /></p>

		<cats:dumbTableDisciplines
			value="#{catDisciplinesBulkOperations.couldNotBeCompleted}" />

	</s:fragment>
	</div>

	<div class="push"></div>

	<a:commandLink  styleClass="button right" value="Finish" action="#{catDisciplinesBulkOperations.bulkReset}" 
	oncomplete="#{rich:component('catDisciplinesBulkPanel')}.hide(); javascript:location.reload(true);" 
	status="globalWaitStatus" ignoreDupResponses="true"    
	rendered="#{empty pageURL}"/>
	<a:commandLink  styleClass="button right" value="Finish" action="#{catDisciplinesBulkOperations.bulkReset}" 
	oncomplete="#{rich:component('catDisciplinesBulkPanel')}.hide(); javascript:location.href=formatURL(location.href);" 
	status="globalWaitStatus" ignoreDupResponses="true"    
	rendered="#{not empty pageURL}"/>
	
	</div>

</ui:composition>
