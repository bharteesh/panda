<s:div 
xmlns="http://www.w3.org/1999/xhtml" 
xmlns:ui="http://java.sun.com/jsf/facelets" 
xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" 
xmlns:s="http://jboss.com/products/seam/taglib" xmlns:a="http://richfaces.org/a4j" 
xmlns:rich="http://richfaces.org/rich" id="notes">


  <h2>Notes</h2>
  
  <a:form>
  	<div class="right">
  			<a:commandLink  onclick="if ( ! checkForSave() ) { return false ; }" id="catBookSeriesCatNoteCreateButton"
				ignoreDupResponses="true"
     			eventsQueue="catBookSeriesEditQueue"
         		status="globalWaitStatus"
         		ajaxSingle="true"
                styleClass="button wizard #{!s:hasPermission(catBookSeriesHome.instance, 'add_reln catBookSeriesNote') ? 'disabled' : ''}"
                disabled="#{!s:hasPermission(catBookSeriesHome.instance, 'add_reln catBookSeriesNote')}"
	    		action="#{createBookSeriesNoteWizard.prepareCreate()}"
				value="Add Note"
				reRender="bookSeriesNoteForm" 
				oncomplete="Richfaces.showModalPanel('bookSeriesNoteWizardModal');"/>
    </div>				
  </a:form>
  
  <div class="push">	
    </div>
  <a:form>
  
    <a:outputPanel id="tadDivId">
      <ul class="tab">
        <li>
	      	<a:commandLink  styleClass="#{catBookSeriesHome.notesSortOrder=='desc' ? 'selected' : ''}" reRender="tadDivId,notesId">
	      		<f:param name="notesSortOrder" value="desc"/>
	      		<h:outputText value="Newest First" /> 
	    	</a:commandLink>
        </li>
        <li>
	      	<a:commandLink styleClass="#{catBookSeriesHome.notesSortOrder=='asc' ? 'selected' : ''}" reRender="tadDivId,notesId">
	      		<f:param name="notesSortOrder" value="asc"/>
	      		<h:outputText value="Oldest First" />
	    	</a:commandLink>
        </li>
      </ul>
    </a:outputPanel>
    <div id="newnote"/>
    <a:outputPanel id="notesId" styleClass="allnotes">
      <rich:dataList var="_notes" value="#{catBookSeriesHome.allNotes}" rows="5" id="notesList1">
        <div class="note">
          <p class="title museo">#{_notes.catTitlePart1}<i>#{_notes.catTitlePart2}</i>#{_notes.catTitlePart3}</p>
          <pre>#{_notes.catNote}</pre>
          <p class="sig">by #{_notes.catCreator} at #{_notes.catDateCreated}
		       <span class="editbutton"> <a:commandLink ignoreDupResponses="true"
			   		value=""
			   		action="#{createBookSeriesNoteWizard.prepareEdit(_notes)}"
					reRender="bookSeriesNoteForm" 
					oncomplete="#{rich:component('bookSeriesNoteWizardModal')}.show();"
					styleClass="button wizard2 #{(_notes.parentType ne 'BookSeries' or !roler.haveOverlappingRoles(identity.credentials.username, _notes.catCreator)) ? 'disabled' : ''}"
					disabled="#{_notes.parentType ne 'BookSeries' or !roler.haveOverlappingRoles(identity.credentials.username, _notes.catCreator)}"
					status="globalWaitStatus"
					eventsQueue="catBookSeriesEditQueue"
					ajaxSingle="true"
					onclick="if ( ! checkForSave() ) { return false ; }"
		        /></span>
          </p>
        </div>
      </rich:dataList>
      <rich:datascroller for="notesList1" maxPages="5" renderIfSinglePage="false">
        <f:facet name="first">
          <h:outputText value="First"/>
        </f:facet>
        <f:facet name="last">
          <h:outputText value="Last"/>
        </f:facet>
      </rich:datascroller>
    </a:outputPanel>
  </a:form>

  
</s:div>
