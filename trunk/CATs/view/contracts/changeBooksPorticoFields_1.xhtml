<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:dui="http://openorganize.com/platform/dui">

	<h2>
		<h:outputText value="#{changeBooksPorticoFieldsWizard.wizardTitle}" />
	</h2>

	<div id="step1">
		<ul class="steps">
			<li class="selected">1. Change</li>
			<li class="disabled">2. Results</li>
		</ul>


		<div class="cluster">
		<a:outputPanel layout="none" id="noLayoutErrorMsgs">
				<s:div styleClass="alert">
					<s:div rendered="#{not empty changeBooksPorticoFieldsWizard.errorMsgs}" id="errorMsgsDiv">
						<a:repeat value="#{changeBooksPorticoFieldsWizard.errorMsgs}" var="_errMsg">
							<p>#{_errMsg}</p>
						</a:repeat>
					</s:div>
				</s:div>
		</a:outputPanel>
		
			<s:div id="booksPorticoWizardDiv">
				<s:decorate id="catBksPorticoWizardId" template="../layout/edit.xhtml">
					<ui:define name="label">Books at JSTOR in Portico</ui:define>
					<h:selectOneMenu name="catBksPorticoWizardSel" value="#{catContractsHome.instance.catBooksPortico}" required="true">
						<s:selectItems itemValue="#{i.value}" label="#{i.label}"
							noSelectionLabel="Choose..." value="#{listsForEnums.yesNo}" var="i" />
						<a:support event="onchange" reRender="porticoWizardFieldsPanel" ajaxSingle="true" status="globalWaitStatus" limitToList="true"/>	
					</h:selectOneMenu>
					<span class="comments">Are the publisher's Books at JSTOR books participating in Portico?</span>
				</s:decorate>
			</s:div>
			<a:outputPanel layout="block" id="porticoWizardFieldsPanel">
				<s:div id="booksPorticoWizardPanelDiv" rendered="#{catContractsHome.instance.catBooksPortico}">
					<s:decorate id="catBksPorticoWizardAnnexId" template="../layout/edit.xhtml">
						<ui:define name="label">Books at JSTOR Portico Annex Countersigned</ui:define>
						<span class="read_only"><rich:calendar required="true" enableManualInput="true" datePattern="yyyy/MM/dd" disabled="false" 
							id="catContractBkPorticoWizardAnnexDateCal" inputClass="datestyle" value="#{catContractsHome.instance.catBooksPorticoAnnexDate}"/></span>
						<span class="comments">Date when ITHAKA countersigned the Portico Annex for this publisher's Books at JSTOR books.</span>
					</s:decorate>
				</s:div>
			</a:outputPanel>
			
		</div>

			<div class="push"></div>

			<a:commandLink styleClass="button" value="Quit"
				status="globalWaitStatus" ignoreDupResponses="true"
				ajaxSingle="true" limitToList="true"
				oncomplete="#{rich:component('changeBooksPorticoFieldsQuitPanel')}.show(); return false;">
			</a:commandLink>

			<a:commandLink styleClass="button right" value="Save"
				limitToList="true" status="globalWaitStatus"
				ignoreDupResponses="true" action="#{changeBooksPorticoFieldsWizard.next()}"
				reRender="changeBooksPorticoFieldsForm" />
		</div>
</ui:composition>

