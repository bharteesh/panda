<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="../layout/template.xhtml">

	<ui:param name="entityType" value="collections" />
	<ui:define name="badge">
		<ui:include src="CollectionsBadge.xhtml">
			<ui:param name="divParam" value="collectionsBadge" />
		</ui:include>
	</ui:define>

	<ui:define name="body">


		<h:form id="catCollectionsHomeEdit">
			<!-- Shows hour glass when the table is loading -->
			<div id="globalStatusDiv" style="display: none;">
				<img src="../img/loading.gif" />
			</div>
			<a:status id="globalWaitStatus" forceId="true" layout="none"
				onstart="jQuery('#globalStatusDiv').fadeIn('fast')"
				onstop="jQuery('#globalStatusDiv').fadeOut('slow')" />
			<rich:tabPanel id="maintab" switchType="ajax" styleClass="tab"
				selectedTab="#{catCollectionsHome.selectedTab}"
				contentClass="tab_content">

				<rich:tab label="Collection Information" id="tab1" name="tab1"
					oncomplete="addDisabledToDisabled(); addDisabledToReadonly();"
					status="globalWaitStatus"
					action="#{catCollectionsHome.updateUserTabPreferences('tab1')}">
					<ui:include src="CollectionsInformationTab.xhtml" />
				</rich:tab>
				<!-- 
					<rich:tab label="Prorates" id="tab2" name="tab2" status="globalWaitStatus" oncomplete="addDisabledToDisabled(); addDisabledToReadonly();">
						<ui:include src="CollectionsProratesTab.xhtml" />
					</rich:tab>
				-->
				<rich:tab label="Sets in Collection" id="tab3" name="tab3"
					oncomplete="addDisabledToDisabled(); addDisabledToReadonly();"
					status="globalWaitStatus"
					action="#{catCollectionsHome.updateUserTabPreferences('tab3')}">
					<ui:include src="CollectionsSetsTab.xhtml" />
				</rich:tab>
				<rich:tab label="Audit" id="tab4" name="tab4"
					oncomplete="addDisabledToDisabled(); addDisabledToReadonly();"
					status="globalWaitStatus"
					action="#{catCollectionsHome.updateUserTabPreferences('tab4')}">
					<ui:include src="CollectionsAuditTab.xhtml" />
				</rich:tab>
			</rich:tabPanel>
			<div id="functions">
				<a:commandLink action="#{catCollectionsHome.update}"
					onclick=" if ( jQuery(this).hasClass('disabled') ) { return false; } "
					ignoreDupResponses="true" styleClass="button saveOrCancel disabled"
					value="Save" eventsQueue="collectsEditQueue"
					reRender="catCollectionsHomeEdit" status="globalWaitStatus" />
				<a:commandLink action="#{catCollectionsHome.cancel}"
					onclick=" if ( jQuery(this).hasClass('disabled') ) { return false; } "
					ignoreDupResponses="true" ajaxSingle="true"
					styleClass="button saveOrCancel disabled" value="Cancel"
					eventsQueue="collectsEditQueue" status="globalWaitStatus" />
			</div>

		</h:form>
		<ui:include src="bulkm_Collections.xhtml">
			<ui:param name="divParam" value="collectionsEdit" />
			<ui:param name="pageURL" value="/collections/CollectionsEdit.xhtml" />
		</ui:include>

		<ui:include src="../sets/bulkm_Sets.xhtml">
			<ui:param name="pageURL" value="/collections/CollectionsEdit.xhtml" />
		</ui:include>
		<ui:include src="/contractdetails/addContractDetails_modal.xhtml">
			<ui:param name="pageURL" value="/collections/CollectionsEdit.xhtml" />
		</ui:include>
	</ui:define>

	<ui:define name="notes">
		<ui:include src="CollectionsNotes.xhtml" />
		<ui:include src="createm_CollectionNote.xhtml">
			<ui:param name="pageURL" value="/collections/CollectionsEdit.xhtml" />
		</ui:include>
	</ui:define>
</ui:composition>


