<ui:composition
xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib"
>

	<h2><h:outputText value="#{catCollectionsBulkOperations.bulkTitle}" /></h2>
	
		<div id="step1">
		<ul class="steps">
				<li class="disabled">1. Permissions</li>
				<li class="selected">2. Change</li>
				<li class="disabled">3. Additional</li>
				<li class="disabled">4. Results</li>
		</ul>
					
		<div class="cluster ">		
		<p>Enter the new value to apply to all the eligible records you selected.</p>
		<s:fragment rendered="#{catCollectionsBulkOperations.bulkRequiredProperties.contains('catName')}">
			<s:decorate id="catName_div1" template="../layout/edit.xhtml">
				<ui:define name="label">Name</ui:define>
				<h:inputTextarea id="catName" required="true" maxlength="255" rows="2" columns="20" value="#{catCollectionsBulkOperations.bulkInstance.catName}"/>
			</s:decorate>
		</s:fragment>
	
		<s:fragment rendered="#{catCollectionsBulkOperations.bulkRequiredProperties.contains('catMinPromSetCnt')}">
			<s:decorate id="catMinPromSetCnt_div1" template="../layout/edit.xhtml">
				<ui:define name="label">Promised Sets</ui:define>
				<h:inputText id="catMinPromSetCnt" required="true" maxlength="6" size="25" value="#{catCollectionsBulkOperations.bulkInstance.catMinPromSetCnt}"/>
			</s:decorate>
		</s:fragment>
		
		<s:fragment rendered="#{catCollectionsBulkOperations.bulkRequiredProperties.contains('catTargetSetCnt')}">
			<s:decorate id="catTargetSetCnt_div1" template="../layout/edit.xhtml">
				<ui:define name="label">Target Set Count</ui:define>
				<h:inputText id="catTargetSetCnt" required="true" maxlength="6" size="25" value="#{catCollectionsBulkOperations.bulkInstance.catTargetSetCnt}"/>
			</s:decorate>
		</s:fragment>
		
		<s:fragment rendered="#{catCollectionsBulkOperations.bulkRequiredProperties.contains('catLaunchDateSchd')}">
			<s:decorate id="catLaunchDateCnt_div1" template="../layout/edit.xhtml">
				<ui:define name="label">Scheduled Launch</ui:define>
				<rich:calendar enableManualInput="true"  required="true" datePattern="yyyy/MM/dd"  id="catLaunchDateSchd" inputClass="datestyle" value="#{catCollectionsBulkOperations.bulkInstance.catLaunchDateSchd}"/>				
			</s:decorate>
		</s:fragment>
		
		<s:fragment rendered="#{catCollectionsBulkOperations.bulkRequiredProperties.contains('catType')}">
			<s:decorate id="catType_div1" template="../layout/edit.xhtml">
				<ui:define name="label">Type</ui:define>
					<h:selectOneMenu required="true" name="catType" value="#{catCollectionsBulkOperations.bulkInstance.catType}">
						   		<s:selectItems itemValue="#{i}" label="#{i.label}" noSelectionLabel="Choose..." value="#{listsForEnums.catCollections_Type}" var="i"/>
					</h:selectOneMenu>
			</s:decorate>
		</s:fragment>
		<s:fragment rendered="#{catCollectionsBulkOperations.bulkRequiredProperties.contains('catLifecycle')}">
			<s:decorate id="catLifecycle" template="../layout/edit.xhtml">
    			<ui:define name="label">Lifecycle:</ui:define>
    			<h:selectOneMenu name="catLifecycle" value="#{catCollectionsBulkOperations.bulkInstance.catLifecycle}"		
 							required="true" >
						<s:selectItems value="#{catCollectionsBulkOperations.collectionLifecycleValues}" var="i" itemValue="#{i}"
				              label="#{i.label}" noSelectionLabel="Choose..." />	
				       	<a:support event="onchange" reRender="catLifecycleOther" ajaxSingle="true" status="#{divParam}globalWaitStatus"/> 
				</h:selectOneMenu>
    		</s:decorate>
		</s:fragment>
		<a:outputPanel layout="block" id="catLifecycleOther">		
			<s:div id="catLifecycleOther_sdiv" rendered="#{catCollectionsBulkOperations.addnlRequiredPropertiesFlag}">
				<s:decorate id="catTargetSetCnt_div2"
					template="../layout/edit.xhtml">
					<ui:define name="label">Target Set Count</ui:define>
					<h:inputText required="true" id="catTargetSetCnt1"
						value="#{catCollectionsBulkOperations.bulkInstance.catTargetSetCnt}">
					</h:inputText>
				</s:decorate>
				<s:decorate id="catMinPromSetCnt_div2"
							template="../layout/edit.xhtml">
							<ui:define name="label">Promised Sets</ui:define>
							<h:inputText required="true" id="catMinPromSetCnt2"
								value="#{catCollectionsBulkOperations.bulkInstance.catMinPromSetCnt}">
							</h:inputText>
				</s:decorate>
				<s:decorate id="catMinPromSigningDeadline_div1"
							template="../layout/edit.xhtml">
							<ui:define name="label">Minimum Promise Signing Deadline</ui:define>
							<rich:calendar enableManualInput="true" datePattern="yyyy/MM/dd"
								id="catMinPromSigningDeadline2" inputClass="datestyle" required="true"
								value="#{catCollectionsBulkOperations.bulkInstance.catMinPromSigningDeadline}" />
				</s:decorate>
				<s:decorate id="catPageBudget_div1" template="../layout/edit.xhtml">
							<ui:define name="label">Page Budget</ui:define>
							<h:inputText required="true" id="catPageBudget2"
								value="#{catCollectionsBulkOperations.bulkInstance.catPageBudget}">
							</h:inputText>
				</s:decorate>
			</s:div>
		</a:outputPanel>

		</div>

		<div class="push"></div>
		
		<a:commandLink styleClass="button" value="Quit"  status="globalWaitStatus" ignoreDupResponses="true" eventsQueue="bulkCollectionsQueue"	
			oncomplete="#{rich:component('collectionsBulkUpdateQuit')}.show(); return false;" 			
		/>
		
		<a:commandLink styleClass="button right" value="Continue"  action="#{catCollectionsBulkOperations.bulkNext}" reRender="collectionsBulkWizard" 
						eventsQueue="bulkCollectionsQueue" status="globalWaitStatus" ignoreDupResponses="true"/>
		
		</div>
	
</ui:composition>