<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" template="../layout/template.xhtml">

	<ui:define name="badge">
	<h1> </h1>
	</ui:define>
	
	<ui:define name="body">
			<h1>Klopotek Feeds</h1>
		<br/>			
		<rich:panel>		
			<f:facet name="header">Export New Products Feed</f:facet>
			<a target="_blank" href="../templatespreadsheets/ExportBooksKtekFeedTemplate.xlsx">Download Template Spreadsheet</a>
			<a:outputPanel layout="none" id="newProductsErrorMsgs">
					<s:div styleClass="alert">
						<s:div rendered="#{not empty newProductsFeed.displayMsgs}" id="newProductsErrorMsgsDiv">
							<a:repeat value="#{newProductsFeed.displayMsgs}" var="_errMsg">
								<p>#{_errMsg}</p>
							</a:repeat>
						</s:div>
					</s:div>
			</a:outputPanel>		
				
			<h:form id="newProductsId" enctype="multipart/form-data">
				<b>Books Spreadsheet Path: </b> 
				<s:fileUpload data="#{catsOnDemandFeeds.file}" required="true" size="60">
				</s:fileUpload>
					
				 <h:commandButton  value="Export" action="#{catsOnDemandFeeds.generateKtekNewProductsFeed()}"/>
								<h:selectBooleanCheckbox styleClass="bulk_checkbox"
						value="#{catsOnDemandFeeds.isDryRun}" /><h:outputText value="Dry Run?" />
			</h:form>
		
		</rich:panel>	
		
		<rich:panel>		
			<f:facet name="header">Export Unlimited Price Updates Feed</f:facet>
			<a target="_blank" href="../templatespreadsheets/ExportBooksKtekFeedTemplate.xlsx">Download Template Spreadsheet</a>
			<a:outputPanel layout="none" id="unltdPriceUpdateErrorMsgs">
					<s:div styleClass="alert">
						<s:div rendered="#{not empty unlimitedPriceUpdateFeed.errorMsgs}" id="unltdPriceUpdateErrorMsgsDiv">
							<a:repeat value="#{unlimitedPriceUpdateFeed.errorMsgs}" var="_errMsg">
								<p>#{_errMsg}</p>
							</a:repeat>
						</s:div>
					</s:div>
			</a:outputPanel>		
				
			<h:form id="unltdPriceUpdateId" enctype="multipart/form-data">
				<b>Books Spreadsheet Path: </b> 
				<s:fileUpload data="#{catsOnDemandFeeds.file}" required="true" size="60">
				</s:fileUpload>
					
				 <h:commandButton  value="Export" action="#{catsOnDemandFeeds.generateKtekUnlimitedPriceFeed()}"/>
								<h:selectBooleanCheckbox styleClass="bulk_checkbox"
						value="#{catsOnDemandFeeds.isDryRun}" /><h:outputText value="Dry Run?" />
			</h:form>
		
		</rich:panel>
		
		<rich:panel>		
			<f:facet name="header">Export Full Price Updates Feed</f:facet>
			<a target="_blank" href="../templatespreadsheets/ExportBooksKtekFeedTemplate.xlsx">Download Template Spreadsheet</a>
			<a:outputPanel layout="none" id="fullPriceUpdateErrorMsgs">
					<s:div styleClass="alert">
						<s:div rendered="#{not empty fullPriceUpdateFeed.errorMsgs}" id="fullPriceUpdateErrorMsgsDiv">
							<a:repeat value="#{fullPriceUpdateFeed.errorMsgs}" var="_errMsg">
								<p>#{_errMsg}</p>
							</a:repeat>
						</s:div>
					</s:div>
			</a:outputPanel>		
				
			<h:form id="fullPriceUpdateId" enctype="multipart/form-data">
				<b>Books Spreadsheet Path: </b> 
				<s:fileUpload data="#{catsOnDemandFeeds.file}" required="true" size="60">
				</s:fileUpload>
					
				 <h:commandButton  value="Export" action="#{catsOnDemandFeeds.generateKtekFullPriceFeed()}"/>
								<h:selectBooleanCheckbox styleClass="bulk_checkbox"
						value="#{catsOnDemandFeeds.isDryRun}" /><h:outputText value="Dry Run?" />				
			</h:form>
		
		</rich:panel>		
		
		<rich:panel>		
			<f:facet name="header">Export Bibliographic Update Feed</f:facet>
			<a target="_blank" href="../templatespreadsheets/ExportBooksKtekFeedTemplate.xlsx">Download Template Spreadsheet</a>
			<a:outputPanel layout="none" id="bibliographicErrorMsgs">
					<s:div styleClass="alert">
						<s:div rendered="#{not empty bibliographicMDFeed.errorMsgs}" id="bibliographicErrorMsgsDiv">
							<a:repeat value="#{bibliographicMDFeed.errorMsgs}" var="_errMsg">
								<p>#{_errMsg}</p>
							</a:repeat>
						</s:div>
					</s:div>
			</a:outputPanel>		
				
			<h:form id="bibliographicId" enctype="multipart/form-data">
				<b>Books Spreadsheet Path: </b> 
				<s:fileUpload data="#{catsOnDemandFeeds.file}" required="true" size="60">
				</s:fileUpload>
					
				 <h:commandButton  value="Export" action="#{catsOnDemandFeeds.generateKtekBibliographicFeed()}"/>
								<h:selectBooleanCheckbox styleClass="bulk_checkbox"
						value="#{catsOnDemandFeeds.isDryRun}" /><h:outputText value="Dry Run?" />	
			</h:form>
		
		</rich:panel>		
</ui:define>

</ui:composition>
