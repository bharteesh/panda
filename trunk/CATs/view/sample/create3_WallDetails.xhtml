<ui:composition
xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:dui="http://openorganize.com/platform/dui"
>

	<h2><h:outputText value="#{createWallDetailsWizard.createTitle}" /></h2>
	
		<div id="step1">
		<ul class="steps">
    		<li class="disabled">1. Select</li>
	    	<li class="disabled">2. Main</li>
		    <li class="">3. Additional</li>
		    <li class="disabled">4. Results</li>
		</ul>
		<div class="cluster">
	<p>
	Conversation ID:<h:outputText value="#{conversation.id}"/><br />
Is long running?:<h:outputText value="#{conversation.longRunning}"/><br />
	</p>

<s:decorate id="catChangeType_div" template="../layout/edit.xhtml">
<ui:define name="label">Wall Change Type</ui:define>
<h:selectOneMenu required="true" name="catChangeType" value="#{createWallDetailsWizard.createInstance.catChangeType}">
		   		<s:selectItems value="#{createWallDetailsWizard.availableChangeTypes}" var="i" itemValue="#{i}"
		                 label="#{i.label}" noSelectionLabel="Choose..." />
		       </h:selectOneMenu>
</s:decorate>

<!-- 
/*
	 * For WALL_TYPE='Moving', 
	 * 		user sets MOVING_VALUE and 
	 * 		CHANGE_TYPE to one of the following ('New', 'Increase', 'Decrease', Fixed to Moving'); 
	 * for WALL_TYPE='Fixed', 
	 * 		user sets FIXED_DATE and 
	 * 		CHANGE_TYPE to one of the following ('New', 'Moving to Fixed'); 
	 * for WALL_TYPE='Ceased' 
	 * 		user sets CEASED_DATE and 
	 * 		CHANGE_TYPE to one of the following ('New', 'Cease'); 
	 */

 -->

<s:fragment rendered="#{createWallDetailsWizard.createInstance.catWallType.label eq 'Moving'}">
<s:decorate id="catMovingValue_div" template="../layout/edit.xhtml">
<ui:define name="label">Moving Wall Value</ui:define>
<h:inputText 
 id="catMovingValue" value="#{createWallDetailsWizard.createInstance.catMovingValue}">
                    <a:support ajaxSingle="true" bypassUpdates="true" event="onblur" reRender="catMovingValue_div"/>
                </h:inputText>
</s:decorate>
</s:fragment>

<s:fragment rendered="#{createWallDetailsWizard.createInstance.catWallType.label eq 'Fixed'}">
<s:decorate id="catFixedDate_div" template="../layout/edit.xhtml">
<ui:define name="label">Fixed Date</ui:define>
<rich:calendar enableManualInput="true"  required="true" name="catFixedDate"
                          value="#{createWallDetailsWizard.createInstance.catFixedDate}" 
                          datePattern="yyyy/MM/dd" inputClass="datestyle"/>
</s:decorate>
</s:fragment>

<s:fragment rendered="#{createWallDetailsWizard.createInstance.catWallType.label eq 'Ceased'}">
<s:decorate id="catCeasedDate_div" template="../layout/edit.xhtml">
<ui:define name="label">Ceased Date</ui:define>
<rich:calendar enableManualInput="true"  required="true" name="catCeasedDate"
                          value="#{createWallDetailsWizard.createInstance.catCeasedDate}" 
                          datePattern="yyyy/MM/dd" inputClass="datestyle"/>

</s:decorate>
</s:fragment>

			</div>

		<div class="push"></div>

		<a:commandLink styleClass="button" value="Quit"
			reRender="createWallDetailswizard"
			oncomplete="#{rich:component('createWallDetailsQuit')}.show(); return false;"
			eventsQueue="createWallDetails" status="globalWaitStatus">
		</a:commandLink> 
		
		<a:commandLink styleClass="button right"
			value="Continue" action="#{createWallDetailsWizard.createNext}"
			reRender="createWallDetailswizard" 
			eventsQueue="createWallDetails" status="globalWaitStatus"><s:conversationId /></a:commandLink>
	
	</div>
	
</ui:composition>

