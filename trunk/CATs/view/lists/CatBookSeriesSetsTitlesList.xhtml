<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	template="../layout/list_template.xhtml">
	
	<ui:param name="entityType" value="bookSeriesSetsTitles"/>
	<ui:param name="moremenu" value="moremenu" />
	
	<ui:define name="body">
	<ui:include src="../layout/tablenav.xhtml">
		<ui:param name="viewPath" value="/lists/CatBookSeriesSetsTitlesList.xhtml"></ui:param>
		<ui:param name="entityList" value="#{catBookSeriesSetsTitlesList}"></ui:param>
		<ui:param name="divId" value="1"/>
	</ui:include>
	
	<a:form>
		<s:div id="header"  styleclass="header">
			<div class="left"><span class="museo"><h:outputText
			value="Book Series Sets Titles
			(#{empty catBookSeriesSetsTitlesList.resultList ? 0 : (catBookSeriesSetsTitlesList.paginated ? catBookSeriesSetsTitlesList.resultCount : catBookSeriesSetsTitlesList.resultList.size)})"></h:outputText>
			</span> 
			    <h:selectOneMenu name="flavour" value="#{catBookSeriesSetsTitlesList.flavour}">
				<s:selectItems value="#{catBookSeriesSetsTitlesList.flavours}" var="i"
					itemValue="#{i}" label="#{catBookSeriesSetsTitlesList.flavourLabel(i)}" />
					<a:support event="onchange" action="#{catBookSeriesSetsTitlesList.updateUserSkinPreferences}"
								oncomplete="javascript: location.href='CatBookSeriesSetsTitlesList.seam'"
								ignoreDupResponses="true"
								eventsQueue="bkSeriesSetsListQueue"
								ajaxSingle="true"/>		
			</h:selectOneMenu>  
			
			<s:link id="clearSearch" status="globalWaitStatus" 
				ignoreDupResponses="true" styleClass="button wizard" 
				action="#{catBookSeriesSetsTitlesList.reset}"  value="X" propagation="none"
				oncomplete="javascript: location.href='CatBookSeriesSetsTitlesList.seam'">
				<f:param name="flavour" value="#{catBookSeriesSetsTitlesList.flavour}"/> 
			</s:link>
			
			</div>
			
			 <div class="right">
			 		<ui:include src="adhocReportSelect.xhtml"><ui:param name="entityQuery" value="#{catBookSeriesSetsTitlesList}"/></ui:include>
			 			
	    			<a:commandLink id="createBookSetsTitleEditButton"
	    				ignoreDupResponses="true"
	        			eventsQueue="bkSeriesSetsListQueue"
	             		status="globalWaitStatus"
	         	    	ajaxSingle="true"
		        	    action="#{createBookSetTitleWizard.prepCreateOperation}"
					    value="Add Book Set Title"
					    reRender="createBookSetTitleForm" 
					    oncomplete="Richfaces.showModalPanel('createBookSetTitleWizardModal');"
	                     styleClass="button wizard #{!s:hasPermission(catBookSeriesSetsTitlesList.catBookSeriesSetsTitles, 'create CatBookSeriesSetsTitles') ? 'disabled' : '' }"
					disabled="#{!s:hasPermission(catBookSeriesSetsTitlesList.catBookSeriesSetsTitles, 'create CatBookSeriesSetsTitles')}"/>
	                    
	                <a:commandLink id="createBookSeriesTitleEditButton"
	    				ignoreDupResponses="true"
	        			eventsQueue="bkSeriesSetsListQueue"
	             		status="globalWaitStatus"
	         	    	ajaxSingle="true"
		        	    action="#{createBookSeriesTitleWizard.prepCreateOperation}"
					    value="Add Book Series Title"
					    reRender="createBookSeriesTitleForm" 
					    oncomplete="Richfaces.showModalPanel('createBookSeriesTitleWizardModal');"
	                       styleClass="button wizard #{!s:hasPermission(catBookSeriesSetsTitlesList.catBookSeriesSetsTitles, 'create CatBookSeriesSetsTitles') ? 'disabled' : '' }"
					disabled="#{!s:hasPermission(catBookSeriesSetsTitlesList.catBookSeriesSetsTitles, 'create CatBookSeriesSetsTitles')}"/>			   
			 </div>
			 
		</s:div>
		<!-- Shows loading image when the table is loading -->
			<div id="globalStatusDiv" style="display: none;"><img
				src="../img/loading.gif" /></div>
			<a:status id="globalWaitStatus" forceId="true" layout="none"
				onstart="jQuery('#globalStatusDiv').fadeIn('fast')"
				onstop="jQuery('#globalStatusDiv').fadeOut('slow')" />

			<div class="push" />			

			<div id="mainlistscroller"><h:dataTable
				id="catBookSeriesSetsTitlesList" var="_catBookSeriesSetsTitles"
				value="#{catBookSeriesSetsTitlesList.resultList}"
				rowClasses="odd,even"
				styleClass="mainListClass">
				
				<cats:column value="#{_catBookSeriesSetsTitles.catTitle}" id="bookSeriesSetTitlesTitle" linkToId="#{_catBookSeriesSetsTitles.id}"
					entityList="#{catBookSeriesSetsTitlesList}" propertyName="catTitle"
					propertyValue="#{catBookSeriesSetsTitlesList.catBookSeriesSetsTitles.catTitle}"
					propertyLabel="Title" propertyPath="catBookSeriesSetsTitles.catTitle"
					rendered="#{catBookSeriesSetsTitlesList.listFlavour['catTitle']}" sortable="true" />
					
				<cats:column value="#{_catBookSeriesSetsTitles.catType.label}" id="bookSeriesSetTitlesType" linkToId="#{_catBookSeriesSetsTitles.id}"
					entityList="#{catBookSeriesSetsTitlesList}" propertyName="catType"
					propertyValue="#{catBookSeriesSetsTitlesList.catBookSeriesSetsTitles.catType}"
					propertyLabel="Type" propertyPath="catBookSeriesSetsTitles.catType"
					rendered="#{catBookSeriesSetsTitlesList.listFlavour['catType']}" sortable="true" enumList="#{listsForEnums.catBookSeriesSetsTitles_Type}"/>
					
								<cats:column value="#{_catBookSeriesSetsTitles.catBookSets.id}" id="bookSeriesSetTitlesBookSets" linkToId="#{_catBookSeriesSetsTitles.id}"
					entityList="#{catBookSeriesSetsTitlesList}" propertyName="catBookSets"
					propertyValue="#{catBookSeriesSetsTitlesList.catBookSeriesSetsTitles.catBookSets.id}"
					propertyLabel="Book Sets" propertyPath="catBookSeriesSetsTitles.catBookSets.id"
					rendered="#{catBookSeriesSetsTitlesList.listFlavour['catBookSets']}" sortable="true" />
					
				<cats:column value="#{_catBookSeriesSetsTitles.catBookSeries.id}" id="bookSeriesSetTitlesBookSeries" linkToId="#{_catBookSeriesSetsTitles.id}"
					entityList="#{catBookSeriesSetsTitlesList}" propertyName="catBookSeries"
					propertyValue="#{catBookSeriesSetsTitlesList.catBookSeriesSetsTitles.catBookSeries.id}"
					propertyLabel="Book Series" propertyPath="catBookSeriesSetsTitles.catBookSeries.id"
					rendered="#{catBookSeriesSetsTitlesList.listFlavour['catBookSeries']}" sortable="true" />
					

				<cats:column value="#{_catBookSeriesSetsTitles.id}" id="bookSeriesSetTitlesId" linkToId="#{_catBookSeriesSetsTitles.id}"
					entityList="#{catBookSeriesSetsTitlesList}" propertyName="id"
					propertyValue="#{catBookSeriesSetsTitlesList.catBookSeriesSetsTitles.id}"
					propertyLabel="ID" propertyPath="catBookSeriesSetsTitles.id"
					rendered="#{catBookSeriesSetsTitlesList.listFlavour['id']}" sortable="true" />
			</h:dataTable></div>
		</a:form> 
		
		<ui:include src="../bookseriessetstitles/createBookSetTitle_m.xhtml">
		   <ui:param name="divParam" value="bkSetTitleList"/>
		</ui:include>
		
		<ui:include src="../bookseriessetstitles/createBookSeriesTitle_m.xhtml">
		   <ui:param name="divParam" value="bkSeriesTitleList"/>
		</ui:include>
	
	<!-- when used in conjunction with a BaseListFlavour, this will order the columns per the configuration order. -->
	<rich:jQuery timing="onload" name="orderColumns" selector="#catBookSeriesSetsTitlesList .rich-table-subheader , #catBookSeriesSetsTitlesList .rich-table-row" query="#{catBookSeriesSetsTitlesList.listFlavour.getColumnOrderingJQuery()}"/>
	<rich:jQuery timing="onload" name="orderColumns"
			selector="#mainlistscroller > .mainListClass > thead:first-child > tr:first-child, #mainlistscroller > .mainListClass > tbody > tr"
			query="#{catBookSeriesSetsTitlesList.listFlavour.getColumnOrderingJQuery()}" id="orderJQuery"/>
		
	</ui:define>
</ui:composition>
