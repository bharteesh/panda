<s:div id="#{divId}" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:cats="http://www.ithaka.org/cats">
	
	<div class="smart">
		<div class="header">
		<div class="left">
			<span class="museo">
				<h:outputText value="Moving Wall Flips for this Set (#{catSetsHome.movingWallFlipsList.size})" />
			</span>
			<a:commandLink value="X" action="#{sortFiltBean.resetSortFilt('mwFlips'.concat(divId))}" 
				ignoreDupResponses="true" status="globalWaitStatus"  reRender="#{tableId}" 
				styleClass="button wizard"
				eventsQueue="setsEditQueue"/>
		</div>
		
		<div class="right">
			<a:commandLink  limitToList="true" status="globalWaitStatus" ajaxSingle="true" 
				id="createMovingWallFlipsButton" ignoreDupResponses="true" 
				action="#{createMovingWallFlipsWizard.prepCreateOperation()}" 
				value="Add Moving Wall Flip" reRender="createMovingWallFlipsOperationsPanels,#{tableId}" 
				oncomplete="Richfaces.showModalPanel('createMovingWallFlipsPanel');" styleClass="button wizard"
				onclick="if ( ! checkForSave() ) { return false ; }"/>
			
			<h:selectOneMenu id="catMovingWallFlipsListBulkOperationsSelect"
				rendered="#{not empty catMovingWallFlipsBulkOperations.bulkOperationsNames and not empty catSetsHome.movingWallFlipsList}"
    			value="#{catMovingWallFlipsBulkOperations.bulkOperationsType}" 
    			onfocus="if ( ! checkForSave() ) { return false ; }">
				<a:support event="onchange"
					action="#{catMovingWallFlipsBulkOperations.prepBulkOperations( tableId, 'catMovingWallFlipsListBulkOperationsSelect')}"
					ignoreDupResponses="true"
					reRender="catMovingWallFlipsListBulkOperationsPanels,catMovingWallFlipsList" status="globalWaitStatus"
					oncomplete="if ( #{rich:element('catMovingWallFlipsListBulkOperationsSelect')}.options.selectedIndex != 0 ) { #{rich:component('catMovingWallFlipsBulkPanel')}.show(); } ; return false; " 
					/>
				<s:selectItems value="#{catMovingWallFlipsBulkOperations.bulkOperationsNames}" var="b"
					label="#{catMovingWallFlipsBulkOperations.bulkOperations[b]}" itemValue="#{b}"
					noSelectionLabel="Bulk Operations" />
			</h:selectOneMenu>
		</div>
		
		</div>
		<rich:dataTable id="#{tableId}" var="_catmwallflips"
			value="#{catSetsHome.movingWallFlipsList}"
			rendered="#{not empty catSetsHome.movingWallFlipsList}">

			
			<rich:column styleClass="checkBoxes" headerClass="checkBoxes" rendered="#{not empty catMovingWallFlipsBulkOperations.bulkOperationsNames}">
				<f:facet name="header">
					<h:panelGrid columns="1">
						<h:outputText value=" " />
						<input type="checkbox" id="mwf_select_all_checkbox" name="select_all_checkbox" onclick="toggleCheckboxes(this.checked, 'mwf_bulk_checkbox');" />
					</h:panelGrid>
				</f:facet>
				<div onclick="cancelEventBubbling(event);">
					<h:selectBooleanCheckbox styleClass="mwf_bulk_checkbox" value="#{catMovingWallFlipsBulkOperations.selections[_catmwallflips]}" />
				</div>
			</rich:column>
			
			<rich:column id="flipToPublicYear" sortBy="#{_catmwallflips.catFlipToPublicYear}"
				filterBy="#{_catmwallflips.catFlipToPublicYear}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf1_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf1_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Flip Date"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catFlipToPublicYear}" >
						<s:convertDateTime type="date" pattern="yyyy/MM/dd"/>
					</h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="mwallfilpsCmptName" sortBy="#{_catmwallflips.catCmpts.catName}"
				filterBy="#{_catmwallflips.catCmpts.catName}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf2_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf2_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Component"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catCmpts.catName}" />
				</s:link>
			</rich:column>
			
			<rich:column id="flipToPubDate" sortBy="#{_catmwallflips.catFlipPublctnDate}"
				filterBy="#{_catmwallflips.catFlipPublctnDate}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf3_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf3_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Release Through"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catFlipPublctnDate}" >
						<s:convertDateTime type="date" pattern="yyyy/MM/dd"/>
					</h:outputText>
				</s:link>
			</rich:column>
						
			<rich:column id="contentRange" sortBy="#{_catmwallflips.catContentRange}"
				filterBy="#{_catmwallflips.catContentRange}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf4_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf4_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Content"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catContentRange}" />
				</s:link>
			</rich:column>
			
			<rich:column id="pubUnitCnt" sortBy="#{_catmwallflips.catPublctnUnitCnt}"
				filterBy="#{_catmwallflips.catPublctnUnitCnt}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf5_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf5_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Count"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catPublctnUnitCnt}" />
				</s:link> 
			</rich:column>
			
			<rich:column id="lifecycle" sortBy="#{_catmwallflips.catLifecycle.label}"
				filterBy="#{_catmwallflips.catLifecycle.label}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf6_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf6_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Lifecycle"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catLifecycle.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="prodStatus" sortBy="#{_catmwallflips.catProductionStatus.label}"
				filterBy="#{_catmwallflips.catProductionStatus.label}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf7_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf7_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Prod Status"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catProductionStatus.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="allInRepository" sortBy="#{_catmwallflips.catAllInRepository.label}"
				filterBy="#{_catmwallflips.catAllInRepository.label}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf8_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf8_filterValue']}">
				<f:facet name="header">
					<h:outputText value="In Repository"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catAllInRepository.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="onHold" sortBy="#{_catmwallflips.catOnHold}"
				filterBy="#{_catmwallflips.catOnHold}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf9_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf9_filterValue']}">
				<f:facet name="header">
					<h:outputText value="On Hold"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.catOnHold ? 'Yes' : 'No'}" />
				</s:link>
			</rich:column>
			
			<rich:column id="mwallflipId" sortBy="#{_catmwallflips.id}"
				filterBy="#{_catmwallflips.id}" sortable="true"
				sortOrder="#{sortFiltBean['mwFlips'.concat(divId)]['mwf10_sortOrder']}"
				filterValue="#{sortFiltBean['mwFlips'.concat(divId)]['mwf10_filterValue']}">
				<f:facet name="header">
					<h:outputText value="ID"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catmwallflips.id}"/>
					<h:outputText value="#{_catmwallflips.id}" />
				</s:link>
			</rich:column>
			
			
			
		</rich:dataTable>

	</div>



</s:div>