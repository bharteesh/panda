<?xml version="1.0"?>
<project name="PHXFileChangeMonitor" default="deploy" basedir=".">
	<property file="build.properties" />
	<property name="project.name" value="${project.name}" />
   	<property name="fromLocation" value="${fromLocation}" />
	<property name="toLocation" value="${toLocation}" />
	<property name="user" value="${user}" />
	<property name="password" value="${password}" />
	<property name="host" value="{$host}" />
	
	<echo message="${project.name}" />
	<echo message="${fromLocation}" />
	<echo message="${toLocation}" />
	<echo message="${user}" />
	<echo message="${password}" />
	<echo message="${host}" />
	
   <target name="clean">
   	<sshexec host="${host}"
   	  username="${user}"
   	  password="${password}"
   	  command="cd ${toLocation} | rm ${project.name}.war"  verbose="true"/>
   </target>
   <target name="deploy" depends="clean">
   	<scp file="${fromLocation}/${project.name}.war" 
   		todir="${user}:${password}@${host}${toLocation}" trust="true" />
   </target>
</project>