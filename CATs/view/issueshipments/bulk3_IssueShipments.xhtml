<ui:composition
xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib"
>

	<h2><h:outputText value="#{catIssueShipmentsBulkOperations.bulkTitle}" /></h2>
	
		<div id="step1">
		<ul class="steps">
				<li class="">1. Permissions</li>
				<li class="">2. Change</li>
				<li class="selected">3. Additional</li>
				<li class="disabled">4. Results</li>
		</ul>

		<div class="cluster smart">

		<p>Make additional selection and changes(if any).</p>
            
<s:fragment rendered="#{catIssueShipmentsBulkOperations.bulkOperationsType.equals('ADVANCE') and catIssueShipmentsBulkOperations.bulkOptionalProperties.contains('catOutcome') and catIssueShipmentsBulkOperations.isCatLifecycleOfValueCompleted(catIssueShipmentsBulkOperations.bulkInstance.catLifecycle)}">
<div class="scroller">
	
			<s:decorate id="catOutcome_div" template="../layout/edit.xhtml">
				<ui:define name="label">Outcome</ui:define>
                <h:selectOneMenu id="catOutcome" value="#{catIssueShipmentsBulkOperations.bulkInstance.catOutcome}"
                           requiredMessage="Please make a selection !!" 
			               required="true">
		   		    <s:selectItems value="#{listsForEnums.catIssueShipments_Outcome}" var="i" itemValue="#{i}"
		                 label="#{i.label}" noSelectionLabel="Choose..." />
                    <a:support event="onchange" 
                        reRender="noLayoutExistingForOutcome" 
                        eventsQueue="#{divParam}eventsQueue" 
                        status="globalWaitStatus"
                        ajaxSingle="true"/>
		       </h:selectOneMenu>
			</s:decorate>
			
			<a:outputPanel layout="none" id="noLayoutExistingForOutcome">
            <s:div id="catMaterialFormat_outer_div" rendered="#{catIssueShipmentsBulkOperations.isCatOutcomeOfValueReceivedAll(catIssueShipmentsBulkOperations.bulkInstance.catOutcome)}">
    			<s:decorate id="catMaterialFormat_div" template="../layout/edit.xhtml">
	    			<ui:define name="label">Material Format</ui:define>
                    <h:selectOneMenu id="catMaterialFormat" value="#{catIssueShipmentsBulkOperations.bulkInstance.catMaterialFormat}"
                           requiredMessage="Please make a selection !!" 
			               required="true">
		   	    	    <s:selectItems value="#{listsForEnums.catIssueShipments_MaterialFormat}" var="i" itemValue="#{i}"
		                     label="#{i.label}" noSelectionLabel="Choose..." />
		           </h:selectOneMenu>
			    </s:decorate>
			    <s:decorate id="catSourceCondition_div" template="../layout/edit.xhtml">
    				<ui:define name="label">Source Condition</ui:define>
                    <h:selectOneMenu id="catSourceCondition" value="#{catIssueShipmentsBulkOperations.bulkInstance.catSourceCondition}"
                           requiredMessage="Please make a selection !!" 
			               required="true">
		   	    	    <s:selectItems value="#{listsForEnums.catIssueShipments_SourceCondition}" var="i" itemValue="#{i}"
		                     label="#{i.label}" noSelectionLabel="Choose..." />
		           </h:selectOneMenu>
			    </s:decorate>
			</s:div>
			</a:outputPanel>
			
</div>
</s:fragment>

<!--  on hold -->
<s:fragment rendered="#{catIssueShipmentsBulkOperations.bulkOperationsType.equals('ONHOLD') or catIssueShipmentsBulkOperations.bulkOperationsType.equals('CHNGPARENT')}">
<div class="scroller">
	<p>You do not have any additional information to be selected.</p>
</div>
</s:fragment>


			</div>

		<div class="push"></div>


                <a:commandLink styleClass="button" value="Quit"
			eventsQueue="#{divParam}eventsQueue"
			status="globalWaitStatus"
			reRender="issueshipmentswizard" oncomplete="#{rich:component('issueshipmentsbulkUpdateQuit')}.show(); return false;">
			</a:commandLink> 

		<a:commandLink id="saveWithoutOnclickValidation"
		styleClass="button right" value="Save"
		eventsQueue="#{divParam}eventsQueue"
		status="globalWaitStatus"
		action="#{catIssueShipmentsBulkOperations.performBulkOperation}" reRender="issueshipmentswizard" />

			</div>
	
</ui:composition>