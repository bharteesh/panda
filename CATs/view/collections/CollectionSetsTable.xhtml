<s:div id="#{divId}" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:cats="http://www.ithaka.org/cats">	
	<div class="smart">
		<div class="header">
		<div class="left"><span class="museo">
						<h:outputText
							value="Sets in this Collection (#{catCollectionsHome.catSets.size})" />
					</span>
					
			<a:commandLink value="X" action="#{sortFiltBean.resetSortFilt('catSets'.concat(divId))}" 
	          	ignoreDupResponses="true" status="globalWaitStatus"  
	          	reRender="catSetsList" styleClass="button wizard"/>	
		</div>
		
		<div class="right">
			<h:selectOneMenu id="catSetsList_bulkOperationsSelect"
							rendered="#{not empty setsBulkOperations.bulkOperationsNames and not empty catCollectionsHome.catSets}"
							value="#{setsBulkOperations.bulkOperationsType}">
							<a:support event="onchange"
									action="#{setsBulkOperations.prepBulkOperations('catSetsList', 'catSetsList_bulkOperationsSelect')}"
									reRender="setsBulkOperationsPanels, addContractDtlsModalPanels"
									oncomplete="if ( #{rich:element('catSetsList_bulkOperationsSelect')}.options[this.options.selectedIndex].value == 'CREATECONTDTLS' )	{									
													 #{rich:component('addContractDtlsPanel')}.show();
												} else { #{rich:component('setsBulkUpdatePanel')}.show(); } ; return false; "
									status="globalWaitStatus"/>
							<s:selectItems value="#{setsBulkOperations.bulkOperationsNames}"
								var="b" label="#{setsBulkOperations.bulkOperations[b]}"
								itemValue="#{b}" noSelectionLabel="Bulk Operations" />
			</h:selectOneMenu> 
			<s:fragment rendered="#{not empty catCollectionsHome.catSets}">
			    <ui:include src="/lists/adhocReportSelectChildTables.xhtml">
					<ui:param name="xhtml" value="/collections/CollectionSetsTable.xhtml" />
					<ui:param name="list" value="#{catCollectionsHome.catSets}" />
					<ui:param name="ent" value="sets" />
				</ui:include>
			</s:fragment>
		</div>
		</div>					
		
		<rich:dataTable id="catSetsList" rendered="#{not empty catCollectionsHome.catSets}"
					var="_catSets" value="#{catCollectionsHome.catSets}" rowClasses="odd,even">			
				<rich:column styleClass="checkBoxes" headerClass="checkBoxes"
					rendered="#{not empty setsBulkOperations.bulkOperationsNames}">
					<f:facet name="header">
						<input type="checkbox" id="select_all_checkbox"
								name="select_all_checkbox"
								onclick="if ( this.checked ) { jQuery('.bulk_checkbox').each(function(){ this.checked = true; }); } else { jQuery('.bulk_checkbox').each(function(){ this.checked = false; }); }" />						
					</f:facet>					 
					<h:selectBooleanCheckbox
						styleClass="bulk_checkbox"
						value="#{setsBulkOperations.selections[_catSets]}" />					
				</rich:column>
				
				<rich:column id="SetName" sortBy="#{_catSets.catCurrentTitle.catName}" 
					filterBy="#{_catSets.catCurrentTitle.catName}" sortable="true" width="200px"
					sortOrder="#{sortFiltBean['catSets'.concat(divId)]['SetName_sortOrder']}"
					filterValue="#{sortFiltBean['catSets'.concat(divId)]['SetName_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Set Name"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
		        		<f:param name="id" value="#{_catSets.id}"/>
						<h:outputText value="#{_catSets.catCurrentTitle.catName}" />        		
		        	</s:link>
	        	</rich:column>
	        	
	        	<rich:column id="licensorValue" sortBy="#{_catSets.licensorValue}"	
					filterBy="#{_catSets.licensorValue}" sortable="true" width="75px"
					sortOrder="#{sortFiltBean['catSets'.concat(divId)]['licensorValue_sortOrder']}"
					filterValue="#{sortFiltBean['catSets'.concat(divId)]['licensorValue_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="BF Licensor (Current Title)"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
		        		<f:param name="id" value="#{_catSets.id}"/>
						<h:outputText value="#{_catSets.licensorValue}" />        		
		        	</s:link>
	        	 </rich:column>
	        	 
	        	 <rich:column id="publisherValue" sortBy="#{_catSets.publisherValue}"	
					filterBy="#{_catSets.publisherValue}" sortable="true" 
					sortOrder="#{sortFiltBean['catSets'.concat(divId)]['publisherValue_sortOrder']}"
					filterValue="#{sortFiltBean['catSets'.concat(divId)]['publisherValue_filterValue']}"
					width="75px">
		        	<f:facet name="header">
		        		<h:outputText value="Publisher Roles"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
		        		<f:param name="id" value="#{_catSets.id}"/>
						<h:outputText value="#{_catSets.publisherValue}"/>
					</s:link>
		          </rich:column>
	        	 
	        	 <rich:column id="primaryDisciplineValue" sortBy="#{_catSets.primaryDisciplineValue}"	
					filterBy="#{_catSets.primaryDisciplineValue}" sortable="true" width="75px"
					sortOrder="#{sortFiltBean['catSets'.concat(divId)]['primaryDisciplineValue_sortOrder']}"
					filterValue="#{sortFiltBean['catSets'.concat(divId)]['primaryDisciplineValue_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Primary Discipline"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
		        		<f:param name="id" value="#{_catSets.id}"/>
						<h:outputText value="#{_catSets.primaryDisciplineValue}" />        		
		        	</s:link>
	        	 </rich:column>
	        	
	        	<rich:column id="disciplinesValue" sortBy="#{_catSets.disciplinesValue}"	
					filterBy="#{_catSets.disciplinesValue}" sortable="true" width="75px"
					sortOrder="#{sortFiltBean['catSets'.concat(divId)]['DisciplinesValue_sortOrder']}"
					filterValue="#{sortFiltBean['catSets'.concat(divId)]['DisciplinesValue_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Disciplines"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
		        		<f:param name="id" value="#{_catSets.id}"/>
						<h:outputText value="#{_catSets.disciplinesValue}" />        		
		        	</s:link>
	        	 </rich:column>
	        	 
	        	 <rich:column id="startYear" sortBy="#{_catSets.startYear}"	
					filterBy="#{_catSets.startYear}" sortable="true" width="75px"
					sortOrder="#{sortFiltBean['catSets'.concat(divId)]['startYear_sortOrder']}"
					filterValue="#{sortFiltBean['catSets'.concat(divId)]['startYear_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Start Year"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
		        		<f:param name="id" value="#{_catSets.id}"/>
						<h:outputText value="#{_catSets.startYear}">
							<s:convertDateTime type="date" pattern="yyyy"/>
						</h:outputText>        		
		        	</s:link>
	        	 </rich:column>
	        	 
	        	 <rich:column id="wallTypeValue" sortBy="#{_catSets.wallTypeValue}"	
					filterBy="#{_catSets.wallTypeValue}" sortable="true" width="75px"
					sortOrder="#{sortFiltBean['catSets'.concat(divId)]['wallTypeValue_sortOrder']}"
					filterValue="#{sortFiltBean['catSets'.concat(divId)]['wallTypeValue_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Wall Type"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
		        		<f:param name="id" value="#{_catSets.id}"/>
						<h:outputText value="#{_catSets.wallTypeValue}" />        		
		        	</s:link>
	        	  </rich:column>
	        	  
	        	  <rich:column id="wallValueIgnoreType" sortBy="#{_catSets.wallValueIgnoreType}"	
						filterBy="#{_catSets.wallValueIgnoreType}" sortable="true" width="75px"
						sortOrder="#{sortFiltBean['catSets'.concat(divId)]['wallValueIgnoreType_sortOrder']}"
						filterValue="#{sortFiltBean['catSets'.concat(divId)]['wallValueIgnoreType_filterValue']}">
			        	<f:facet name="header">
			        		<h:outputText value="Wall Value"/>
			        	</f:facet>
			        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			        		<f:param name="id" value="#{_catSets.id}"/>
							<h:outputText value="#{_catSets.wallValueIgnoreType}" />        		
			        	</s:link>
	        	   </rich:column>
	        	   
	        	   <rich:column id="releaseDate" sortBy="#{_catSets.releaseDate}"	
						filterBy="#{_catSets.releaseDate}" sortable="true" width="75px"
						sortOrder="#{sortFiltBean['catSets'.concat(divId)]['releaseDate_sortOrder']}"
						filterValue="#{sortFiltBean['catSets'.concat(divId)]['releaseDate_filterValue']}">
			        	<f:facet name="header">
			        		<h:outputText value="Release (Earliest)"/>
			        	</f:facet>
			        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			        		<f:param name="id" value="#{_catSets.id}"/>
							<h:outputText value="#{_catSets.releaseDate}">
								<s:convertDateTime type="date" pattern="yyyy/MM/dd"/>
							</h:outputText>        		
			        	</s:link>
		        	</rich:column>
			        
			        <rich:column id="catPrintIssn" sortBy="#{_catSets.catCurrentTitle.catPrintIssn}" 
						filterBy="#{_catSets.catCurrentTitle.catPrintIssn}" sortable="true" width="200px"
						sortOrder="#{sortFiltBean['catSets'.concat(divId)]['catPrintIssn_sortOrder']}"
						filterValue="#{sortFiltBean['catSets'.concat(divId)]['catPrintIssn_filterValue']}">
			        	<f:facet name="header">
			        		<h:outputText value="ISSN (Current)"/>
			        	</f:facet>
			        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			        		<f:param name="id" value="#{_catSets.id}"/>
							<h:outputText value="#{_catSets.catCurrentTitle.catPrintIssn}" />        		
			        	</s:link>
		        	</rich:column>
		        	
		        	<rich:column id="publishersCountriesValue" sortBy="#{_catSets.publishersCountriesValue}"	
						filterBy="#{_catSets.publishersCountriesValue}" sortable="true" width="75px"
						sortOrder="#{sortFiltBean['catSets'.concat(divId)]['publishersCountriesValue_sortOrder']}"
						filterValue="#{sortFiltBean['catSets'.concat(divId)]['publishersCountriesValue_filterValue']}">
			        	<f:facet name="header">
			        		<h:outputText value="BF Publisher Country (Current Title)"/>
			        	</f:facet>
			        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			        		<f:param name="id" value="#{_catSets.id}"/>
							<h:outputText value="#{_catSets.publishersCountriesValue}" />        		
			        	</s:link>
	        	    </rich:column>
	        	    
	        	    <rich:column id="catLifecycle" sortBy="#{_catSets.catLifecycle.label}"	
						filterBy="#{_catSets.catLifecycle.label}" sortable="true" width="50px"
						sortOrder="#{sortFiltBean['catSets'.concat(divId)]['catLifecycle_sortOrder']}"
						filterValue="#{sortFiltBean['catSets'.concat(divId)]['catLifecycle_filterValue']}">
			        	<f:facet name="header">
			        		<h:outputText value="Lifecycle"/>
			        	</f:facet>
			        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			        		<f:param name="id" value="#{_catSets.id}"/>
							<h:outputText value="#{_catSets.catLifecycle.label}" />        		
			        	</s:link>
		        	</rich:column>
		        	
		        	<rich:column id="SetId" sortBy="#{_catSets.id}" 
	        			filterBy="#{_catSets.id}" sortable="true" width="50px"
						sortOrder="#{sortFiltBean['catSets'.concat(divId)]['SetId_sortOrder']}"
						filterValue="#{sortFiltBean['catSets'.concat(divId)]['SetId_filterValue']}">
			        	<f:facet name="header"><h:outputText value="ID"/></f:facet>
			        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			        		<f:param name="id" value="#{_catSets.id}"/>
							<h:outputText value="#{_catSets.id}" />        		
			        	</s:link>
		        	</rich:column>		
					
					
			
				</rich:dataTable>

	</div>
</s:div>