<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib">

	<h2><h:outputText value="#{contractsLifecycleWizard.wizardTitle}" /></h2>

	<div id="step1">
	<ul class="steps">		
		<li class="disabled">1. Change</li>
		<li class="selected">2. Details</li>
		<li class="disabled">3. Roles-Riders</li>
		<li class="disabled">4. Results</li>
	</ul>
	<div class="cluster">	
	
		<div class="smart edittable">	
			
			<s:fragment rendered="#{not empty contractsLifecycleWizard.contractDtlsValid}"> 
				<div class="title change">
					<h1>Agreement Details (#{contractsLifecycleWizard.contractDtlsValid.size})</h1>
					<s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Declined'}">
						<p>The system will now change all of this Agreement's Details to <strong>Declined</strong> unless they are already <strong>Declined</strong>. Some fields must be filled out on the Agreement Details in order to set the lifecycle to <strong>Declined</strong>.</p>
					</s:div>		
					<s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'LOI Signed'}">
						<p>The system will now change all of this Agreement's Details to <strong>LOI Signed</strong> unless they are already <strong>LOI Signed</strong> or <strong>Declined</strong>. Some fields must be filled out on the Agreement Details in order to set the lifecycle to <strong>LOI Signed</strong>.</p>
					</s:div>		
					<s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Active'}">
						<p>The system will now change all of this Agreement's Details to <strong>Active</strong> unless they are already <strong>Declined</strong>. Some fields must be filled out on the Agreement Details in order to set the lifecycle to <strong>Active</strong>.</p>
					</s:div>		
					<s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Terminated'}">
						<p>The system will now change all of this Agreement's Details to  <strong>Terminated</strong> unless they are  <strong>New</strong>,  <strong>Declined</strong>, or  <strong>Terminated</strong>. Some fields must be filled out on the Agreement Details in order to set the lifecycle to  <strong>Terminated</strong>.</p>
					</s:div>		
				</div>
				<div class="push"></div>
				<a:outputPanel layout="block" id="backFileContractDtlsPanel">			
						<s:div rendered="#{contractsLifecycleWizard.origInstance.catType eq 'Backfile'}">
							<ui:include src="advContractsLifecycle_backfileDetails.xhtml"/>
						</s:div>
				</a:outputPanel>
				
				<a:outputPanel layout="block" id="cspContractDtlsPanel">			
						<s:div rendered="#{contractsLifecycleWizard.origInstance.catType eq 'Csp'}">
							<ui:include src="advContractsLifecycle_cspDetails.xhtml"/>
						</s:div>
				</a:outputPanel>		
			</s:fragment>		
			<s:fragment rendered="#{not empty contractsLifecycleWizard.contractDtlsInvalid}">
				<div class="title ineligible">
					<h1>Agreement Details (#{contractsLifecycleWizard.contractDtlsInvalid.size})</h1>
					 <s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Declined'}">
						<p class="highlight">The following Agreement Details from this Agreement are already <strong>Declined</strong>, <strong>Terminated</strong> or <strong>Active</strong>. This wizard will not modify them.	</p>
					</s:div>	
					 <s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'LOI Signed'}">
						<p class="highlight">The following Agreement Details from this Agreement are already <strong>LOI Signed</strong> or <strong>Declined</strong>. This wizard will not modify them.	</p>
					</s:div>	
					 <s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Active'}">
						<p class="highlight">The following Agreement Details from this Agreement are already <strong>Declined</strong>. This wizard will not modify them.	</p>
					</s:div>
					 <s:div rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Terminated'}">
						<p class="highlight">The following Agreement Details from this Agreement are already <strong>New</strong>, <strong>Declined</strong> or <strong>Terminated</strong>. <strong>New</strong> Agreement Details will be deleted.  <strong>Declined</strong> and  <strong>Terminated</strong> Agreement Details will be left as-is for future reference. </p>
					</s:div>		
				</div>
				 <ui:include src="advContractsLifecycle_contractDtlsTable.xhtml">
					<ui:param name="value" value="#{contractsLifecycleWizard.contractDtlsInvalid}"/>
				</ui:include>
			</s:fragment>		
		</div>		
			<s:div styleClass="alert" rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Declined'}">		
					<p class="highlight">When you hit continue, the system will try to advance your Agreement and Agreement Details to <strong>Declined</strong>. If it succeeds, you will not be able to reset the lifecycle of the Agreement or Agreement Details.</p>			
			</s:div>
			<s:div styleClass="alert" rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'LOI Signed'}">		
					<p class="highlight">When you hit continue, the system will try to advance your Agreement and Agreement Details to <strong>LOI Signed</strong>. If it succeeds, you will not be able to reset the lifecycle of the Agreement or Agreement Details.</p>			
			</s:div>
			<s:div styleClass="alert" rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Active'}">		
					<p class="highlight">When you hit continue, the system will try to advance your Agreement and Agreement Details to <strong>Active</strong>. If it succeeds, you will not be able to reset the lifecycle of the Agreement or Agreement Details. In some cases, the lifecycles of Sets and Components will also be changed and cannot be reset.</p>			
			</s:div>
			<s:div styleClass="alert" rendered="#{contractsLifecycleWizard.newLifecycleValue.label eq 'Terminated'}">		
					<p class="highlight">When you hit continue, the system will try to advance your Agreement and Agreement Details to <strong>Terminated</strong>. If it succeeds, you will not be able to reset the lifecycle of the Agreement or Agreement Details. If you are Transferring content to a new Agreement, the system will automatically create and activate new Agreement Details.</p>			
			</s:div>
	</div>
	<div class="push"></div> 
	<a:commandLink styleClass="button" value="Quit"  limitToList="true"
		oncomplete="#{rich:component('contractsLifecycleUpdateQuit')}.show();" status="globalWaitStatus" ignoreDupResponses="true" ajaxSingle="true"/> 
	<a:commandLink styleClass="button right" value="Continue" ignoreDupResponses="true"
			action="#{contractsLifecycleWizard.advLfclNext}" status="globalWaitStatus"
			reRender="contractsLfclWizard" limitToList="true"/>
		</div>
</ui:composition>
