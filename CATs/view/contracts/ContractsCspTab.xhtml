<s:div xmlns:s="http://jboss.com/products/seam/taglib" 
	xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:a="http://richfaces.org/a4j" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:rich="http://richfaces.org/rich" 
	xmlns:ui="http://java.sun.com/jsf/facelets" id="contractCspInfoDiv">

	<rich:simpleTogglePanel id="cConCspInf" switchType="ajax"
		opened="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspInf')}"
		headerClass="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspInf') ? 'open':''}"
		action="#{userPreferences.updateUserFlapPreferences(identity.credentials.username,'cConCspInf')}"
		reRender="cConCspInf" ajaxSingle="true" limitToList="true"
		eventsQueue="contEditQueue" label="CSP Agreement Information">	
		
		<div class="col col1">
		
						<s:decorate id="catLicensorAsWrittenCSP" template="../layout/edit.xhtml">
		           <ui:define name="label">Licensor Name as Written</ui:define>
		           <h:inputTextarea onchange="enableSaveCancel();" readonly="#{!s:hasPermission(catContractsHome.instance, 'modify catLicensorAsWritten')}" cols="20" rows="2" value="#{catContractsHome.instance.catLicensorAsWritten}"/>
		    </s:decorate>  
			
			<s:decorate id="catContractCspInfoDate" template="../layout/edit.xhtml">
				<ui:define name="label">Agreement Date Signed</ui:define>
				<rich:calendar readonly="#{!s:hasPermission(catContractsHome.instance, 'modify catAgreementDate')}" onchanged="enableSaveCancel();" oninputkeyup="enableSaveCancel();" enableManualInput="true"  datePattern="yyyy/MM/dd" disabled="false" inputClass="datestyle" value="#{catContractsHome.instance.catAgreementDate}"/>
			</s:decorate>  
			
			<s:decorate id="catContractCspLaunchDate" template="../layout/edit.xhtml">
				<ui:define name="label">Launch Date</ui:define>
				<h:outputText value="#{catContractsHome.instance.catCspLaunchDate}"><s:convertDateTime type="date" pattern="yyyy/MM/dd"/></h:outputText>
			</s:decorate>
			
		</div>
		
		<div class="col col2">			       
		    <s:decorate id="catContractCspInfoDeclinedBy" template="../layout/edit.xhtml">
		           <ui:define name="label">Declined By</ui:define>
		           <h:outputText value="#{catContractsHome.instance.catDeclinedBy}"/>
		    </s:decorate> 
		     
		    <s:decorate id="catContractCspInfoDeclinedNotes" template="../layout/edit.xhtml">
		           <ui:define name="label">Reason Declined</ui:define>
		           <h:inputTextarea readonly="true" cols="20" rows="2" value="#{catContractsHome.instance.catDeclinedNotes}"/>
		    </s:decorate>       
		        
		    <s:decorate id="catContractCspInfoDeclinedDate" template="../layout/edit.xhtml">
		           <ui:define name="label">Declined Date</ui:define>
		           <h:outputText value="#{catContractsHome.instance.catDateDeclined}"><s:convertDateTime type="date" pattern="yyyy/MM/dd"/></h:outputText>
		    </s:decorate>   
		           
		    <s:decorate id="catContractCspInfoTerminationDate" template="../layout/edit.xhtml">
		           <ui:define name="label">Termination Date</ui:define>
		           <h:outputText value="#{catContractsHome.instance.catTerminationDate}"><s:convertDateTime type="date" pattern="yyyy/MM/dd"/></h:outputText>
		    </s:decorate> 		    
		     
		    <s:decorate id="catContractCspOutCome" template="../layout/edit.xhtml">
    			<ui:define name="label">Outcome</ui:define>
    			<h:outputText value="#{catContractsHome.instance.catOutcome.label}"/>
    		</s:decorate>  
		
		</div>
	</rich:simpleTogglePanel>	
	
	<rich:simpleTogglePanel id="cConCspNotes" switchType="ajax"
		opened="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspNotes')}"
		headerClass="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspNotes') ? 'open':''}"
		action="#{userPreferences.updateUserFlapPreferences(identity.credentials.username,'cConCspNotes')}"
		reRender="cConCspNotes" ajaxSingle="true" limitToList="true"
		eventsQueue="contEditQueue" label="Notes">	
		<div class="col col1">
			<s:decorate id="catContractCspInfoNote" template="../layout/edit.xhtml">
					<ui:define name="label">Note</ui:define>
					<h:inputTextarea onchange="enableSaveCancel();"  cols="20" readonly="#{!s:hasPermission(catContractsHome.instance, 'modify catNote')}" id="catContractInfoNote" rows="2" value="#{catContractsHome.instance.catNote}">
						<a:support event="onfocus" action="#{catContractsHome.onFocusNote}" ajaxSingle="true" eventsQueue="contractsEditQ"/>
						<a:support event="onblur" action="#{catContractsHome.noteChanged}" ajaxSingle="true" eventsQueue="contractsEditQ"/>
					</h:inputTextarea>
			</s:decorate> 
		</div>
		<div class="col col2">			
			<s:decorate id="catContractCspInfoNoteChangedBy" template="../layout/edit.xhtml">
				<ui:define name="label">Note Changed By</ui:define>
				<h:outputText onchange="enableSaveCancel();"  value="#{catContractsHome.instance.catNoteChangeBy}"/>
			</s:decorate> 
			<s:decorate id="catContractCspInfoNoteChangedDate" template="../layout/edit.xhtml">
				<ui:define name="label">Note Date Changed</ui:define>
				<rich:calendar  onchanged="enableSaveCancel();" oninputkeyup="enableSaveCancel();" enableManualInput="true"  datePattern="yyyy/MM/dd" disabled="true" id="catContractInfoNoteChangedDateCal" inputClass="datestyle" value="#{catContractsHome.instance.catNoteChangeDate}"/>
			</s:decorate>   
		</div>
	</rich:simpleTogglePanel>
		
	<rich:simpleTogglePanel id="cConCspPdf" switchType="ajax"
		opened="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspPdf')}"
		headerClass="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspPdf') ? 'open':''}"
		action="#{userPreferences.updateUserFlapPreferences(identity.credentials.username,'cConCspPdf')}"
		reRender="cConCspPdf" ajaxSingle="true" limitToList="true"
		eventsQueue="contEditQueue" label="PDFs">
	
		<ui:include src="contractDocsTable.xhtml">
			  	<ui:param name="divId" value="pdfsCspTableDiv"/>	  		
			  	<ui:param name="tableId" value="pdfsCspTable"/>	  		
		</ui:include>
	</rich:simpleTogglePanel>
	
	<rich:simpleTogglePanel id="cConCspAgDtls" switchType="ajax"
		opened="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspAgDtls')}"
		headerClass="#{userPreferences.getIsFlapOpen(identity.credentials.username,'cConCspAgDtls') ? 'open':''}"
		action="#{userPreferences.updateUserFlapPreferences(identity.credentials.username,'cConCspAgDtls')}"
		reRender="cConCspAgDtls" ajaxSingle="true" limitToList="true"
		eventsQueue="contEditQueue" label="Agreement Details">
	
		<ui:include src="ContractDetailsTable.xhtml">
			  <ui:param name="divId" value="contractDetailsCspTableDiv"/>	  		
			  <ui:param name="tableId" value="contractDetailsCspTable"/>	  
			  <ui:param name="conType" value="#{catContractsHome.instance.catType}"/>		
		</ui:include>	
	</rich:simpleTogglePanel>
	
	<div class="push"/>	  
	 
</s:div>