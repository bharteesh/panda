<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:s="http://jboss.com/products/seam/taglib" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:rich="http://richfaces.org/rich" 
	xmlns:a="http://richfaces.org/a4j" 
	xmlns:cats="http://www.ithaka.org/cats" 
	template="../layout/list_template.xhtml">

<ui:param name="entityType" value="publishersToCmpts"/>
  <ui:param name="moremenu" value="moremenu"/>

  <ui:define name="body">

<ui:include src="../layout/tablenav.xhtml">
<ui:param name="viewPath" value="/lists/CatPublishersToCmptsList.xhtml"></ui:param>
<ui:param name="entityList" value="#{catPublishersToCmptsList}"></ui:param>
<ui:param name="divId" value="1"/>
</ui:include>

    <a:form>
      

<s:div id="header"  styleclass="header">
			


<div class="left"><span class="museo">
	<h:outputText value="Publisher Roles
	(#{empty catPublishersToCmptsList.resultList ? 0 : (catPublishersToCmptsList.paginated ? catPublishersToCmptsList.resultCount : catPublishersToCmptsList.resultList.size)})"></h:outputText>
</span> 


			  <h:selectOneMenu
				name="flavour" value="#{catPublishersToCmptsList.flavour}">
				<s:selectItems value="#{catPublishersToCmptsList.flavours}" var="i"
					itemValue="#{i}" label="#{catPublishersToCmptsList.flavourLabel(i)}" />
				<a:support event="onchange" action="#{catPublishersToCmptsList.updateUserSkinPreferences}"
								oncomplete="javascript: location.href='CatPublishersToCmptsList.seam'"
								ignoreDupResponses="true"
								eventsQueue="rolesListQueue"
								ajaxSingle="true"/>
			</h:selectOneMenu>
			<s:link  id="clearSearch" 
				status="globalWaitStatus" ignoreDupResponses="true" 
				styleClass="button wizard" 
				action="#{catPublishersToCmptsList.reset}" 
				value="X" 
				ajaxSingle="true"   propagation="none"
				oncomplete="javascript: location.href='CatPublishersToCmptsList.seam'">
				<f:param name="flavour" value="#{catPublishersToCmptsList.flavour}"/>
			</s:link>
			</div>
<!--
			<div class="right"><h:selectOneMenu id="catPublishersToCmptsListBulkOperationsSelect"
				rendered="#{not empty catPublishersToCmptsBulkOperations.bulkOperationsNames}"
    				value="#{catPublishersToCmptsBulkOperations.bulkOperationsType}">
				<a:support event="onchange"
					action="#{catPublishersToCmptsBulkOperations.prepBulkOperations( 'catPublishersToCmptsList', 'catPublishersToCmptsListBulkOperationsSelect' )}"
					reRender="catPublishersToCmptsListBulkOperationsPanels,catPublishersToCmptsList"
					oncomplete="if ( #{rich:element('catPublishersToCmptsListBulkOperationsSelect')}.options.selectedIndex != 0 ) { #{rich:component('catPublishersToCmptsListBulkUpdatePanel')}.show(); } ; return false; " />
				<s:selectItems value="#{catPublishersToCmptsBulkOperations.bulkOperationsNames}" var="b"
					label="#{catPublishersToCmptsBulkOperations.bulkOperations[b]}" itemValue="#{b}"
					noSelectionLabel="Bulk Operations" />
			</h:selectOneMenu></div>
-->
				
			
			<div class="right">
			
			<ui:include src="adhocReportSelect.xhtml">
				<ui:param name="entityQuery" value="#{catPublishersToCmptsList}"/>
			</ui:include>
			<a:commandLink id="createPublisherRolesEditButton"
				status="globalWaitStatus" ignoreDupResponses="true"
			    action="#{createPublisherRolesWizard.prepCreateOperation('CREATEPUBLISHERROLES')}"
				value="Add Publisher Role"
				reRender="createPublisherRolesOperationsPanels,catPublishersToCmptsList" 
				oncomplete="Richfaces.showModalPanel('createPublisherRolesPanel');"
				styleClass="button wizard"
				ajaxSingle="true"/>
			</div>
			
			</s:div>
			<!-- Shows hour glass when the table is loading -->
			<div id="globalStatusDiv" style="display: none;"><img
				src="../img/Animated-Hourglass.gif" /></div>
			<a:status id="globalWaitStatus" forceId="true" layout="none"
				onstart="jQuery('#globalStatusDiv').fadeIn('fast')"
				onstop="jQuery('#globalStatusDiv').fadeOut('slow')" />

			<div class="push" />

			<div id="mainlistscroller">


<h:dataTable id="catPublishersToCmptsList" 
	var="_catPublishersToCmpts" 
	value="#{catPublishersToCmptsList.resultList}" 
	rowClasses="odd,even" 
	styleClass="mainListClass">

  <rich:column styleClass="checkBoxes" headerClass="checkBoxes" 
	rendered="#{not empty catPublishersToCmptsBulkOperations.bulkOperationsNames}">
	<f:facet name="header">
	<h:panelGrid columns="1">
	<h:outputText value=" " />
	<input type="checkbox" 
		id="select_all_checkbox" 
		name="select_all_checkbox" 
		onclick="toggleCheckboxes(this.checked, 'bulk_checkbox');" />
	</h:panelGrid></f:facet>
	<div onclick="cancelEventBubbling(event);">
		<h:selectBooleanCheckbox styleClass="bulk_checkbox checkBoxes" 
		value="#{catPublishersToCmptsBulkOperations.selections[_catPublishersToCmpts]}" />
	</div></rich:column>		
        
        <cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="id" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['id']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="ID" 
              propertyPath="catPublishersToCmpts.id" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.id}" 
              propertyName="id" 
              sortable="true"                       
          	  value="#{_catPublishersToCmpts.id}">
        </cats:column> 
		<cats:column value="#{_catPublishersToCmpts.catPublishers.id}" 
			styleClass="catPublishers.id"
			linkToId="#{_catPublishersToCmpts.id}"
			entityList="#{catPublishersToCmptsList}" 
			propertyName="catPublishers.id"
			propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catPublishers.id}"
			propertyLabel="Publisher ID"
			propertyPath="catPublishersToCmpts.catPublishers.id"
			rendered="#{catPublishersToCmptsList.listFlavour['catPublishers.id']}"
			sortable="true" />
		<cats:column value="#{_catPublishersToCmpts.catPublishers.catName}" 
			styleClass="catPublishers.catName" 
			linkToId="#{_catPublishersToCmpts.id}"
			entityList="#{catPublishersToCmptsList}" 
			propertyName="catPublishers.catName"
			propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catPublishers.catName}"
			propertyLabel="Publisher Name"
			propertyPath="catPublishersToCmpts.catPublishers.catName"
			rendered="#{catPublishersToCmptsList.listFlavour['catPublishers.catName']}"
			sortable="true" />
		<cats:column value="#{_catPublishersToCmpts.catCmpts.setsValue}" 
			linkToId="#{_catPublishersToCmpts.id}"
			propertyName="catCmpts.setsValue"
			propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catCmpts.setsValue}"
			propertyLabel="Sets"
			propertyPath="catPublishersToCmpts.catCmpts.setsValue"
			rendered="#{catPublishersToCmptsList.listFlavour['setsValue']}" 
			sortable="true"
			rollup="true" />
        <cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catCmpts.id" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catCmpts.id']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Component ID" 
              propertyPath="catPublishersToCmpts.catCmpts.id" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catCmpts.id}" 
              propertyName="catCmpts.id" 
              sortable="true"                       
          	  value="#{_catPublishersToCmpts.catCmpts.id}"> 
        </cats:column>
        <cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catCmpts.catName" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catCmpts.catName']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Component Name" 
              propertyPath="catPublishersToCmpts.catCmpts.catName" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catCmpts.catName}" 
              propertyName="catCmpts.catName" 
              sortable="true" 
              dir="#{dir}"                       
          	  value="#{_catPublishersToCmpts.catCmpts.catName}"> 
        </cats:column>
        <cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catRole" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catRole']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Role" 
              propertyPath="catPublishersToCmpts.catRole" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catRole}" 
              propertyName="catRole" 
              sortable="true" 
              enumList="#{listsForEnums.catPublishersToCmpts_Role}"                       
          	  value="#{_catPublishersToCmpts.catRole.label}">
        </cats:column>
        <cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catAllOrPartOfCmpts" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catAllOrPartOfCmpts']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="All or Part of Component" 
              propertyPath="catPublishersToCmpts.catAllOrPartOfCmpts" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catAllOrPartOfCmpts}" 
              propertyName="catAllOrPartOfCmpts" 
              sortable="true" 
              enumList="#{listsForEnums.catPublishersToCmpts_AllOrPartOfCmpt}"                       
         	  value="#{_catPublishersToCmpts.catAllOrPartOfCmpts.label}"> 
        </cats:column>
        <cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catContentCovered" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catContentCovered']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Coverage" 
              propertyPath="catPublishersToCmpts.catContentCovered" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catContentCovered}" 
              propertyName="catContentCovered" 
              sortable="true"                       
          	  value="#{_catPublishersToCmpts.catContentCovered}">
        </cats:column>
        <cats:column linkToId="#{_catPublishersToCmpts.id}"
			value="#{_catPublishersToCmpts.catHistorical ? 'Yes' : 'No'}"
			entityList="#{catPublishersToCmptsList}" propertyName="catHistorical"
			propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catHistorical}"
			propertyLabel="Historical"
			propertyPath="catPublishersToCmpts.catHistorical"
			enumList="#{listsForEnums.yesNo}"
			rendered="#{catPublishersToCmptsList.listFlavour['catHistorical']}" sortable="true" />
		<cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catRoleStartDate" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catRoleStartDate']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Role Start" 
              propertyPath="catPublishersToCmpts.catRoleStartDate" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catRoleStartDate}" 
              propertyName="catRoleStartDate" 
              sortable="true"                       
          	  value="#{_catPublishersToCmpts.catRoleStartDate}" ><s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime>
        </cats:column>
		<cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catRoleEndDate" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catRoleEndDate']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Role End" 
              propertyPath="catPublishersToCmpts.catRoleEndDate" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catRoleEndDate}" 
              propertyName="catRoleEndDate" 
              sortable="true"                       
          	  value="#{_catPublishersToCmpts.catRoleEndDate}" ><s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime>
        </cats:column>
		<cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catPublisherNameVariant" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catPublisherNameVariant']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Publisher Name Variant" 
              propertyPath="catPublishersToCmpts.catPublisherNameVariant" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catPublisherNameVariant}" 
              propertyName="catPublisherNameVariant" 
              sortable="true"                       
          	  value="#{_catPublishersToCmpts.catPublisherNameVariant}"/> 
        <cats:column linkToId="#{_catPublishersToCmpts.id}" 
        	  styleClass="catPromoMaterialsDate" 
        	  rendered="#{catPublishersToCmptsList.listFlavour['catPromoMaterialsDate']}"                      
              entityList="#{catPublishersToCmptsList}" 
              propertyLabel="Promotional Materials Sent" 
              propertyPath="catPublishersToCmpts.catPromoMaterialsDate" 
              propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catPromoMaterialsDate}" 
              propertyName="catPromoMaterialsDate" 
              sortable="true"                       
          	  value="#{_catPublishersToCmpts.catPromoMaterialsDate}" ><s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime>
        </cats:column>

					<cats:column linkToId="#{_catPublishersToCmpts.id}" sortable="true"
					rendered="#{catPublishersToCmptsList.listFlavour['catDateModified']}"
					entityList="#{catPublishersToCmptsList}"
					propertyLabel="Date Modified"
					propertyPath="catPublishersToCmpts.catDateModified"
					propertyValue="#{catPublishersToCmptsList.catPublishersToCmpts.catDateModified}"
					propertyName="catDateModified"
					value="#{_catPublishersToCmpts.catDateModified}">
					<s:convertDateTime type="both" pattern="yyyy/MM/dd HH:mm:ss"></s:convertDateTime>
				</cats:column>        
      </h:dataTable></div>
    </a:form>
    
<ui:include src="../layout/tablenav.xhtml">
<ui:param name="viewPath" value="/lists/CatPublishersToCmptsList.xhtml"></ui:param>
<ui:param name="entityList" value="#{catPublishersToCmptsList}"></ui:param>
<ui:param name="divId" value="2"/>
</ui:include>

	<ui:include src="../publisherRoles/createm_PublisherRoles.xhtml">
		   <ui:param name="divParam" value="publishersToCmptsList"/>
  </ui:include>

<!--    
  <ui:include src="bulkm_CatPublishersToCmpts.xhtml"></ui:include>
 -->
<!-- when used in conjunction with a BaseListFlavour, this will order the columns per the configuration order. -->
 <rich:jQuery timing="onload" name="orderColumns"
			selector="#mainlistscroller > .mainListClass > thead:first-child > tr:first-child, #mainlistscroller > .mainListClass > tbody > tr"
			query="#{catPublishersToCmptsList.listFlavour.getColumnOrderingJQuery()}" id="orderJQuery"/>
</ui:define>
</ui:composition>
