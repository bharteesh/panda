<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	template="../layout/list_template.xhtml">

	<ui:param name="entityType" value="bookAgreementDtls" />
	<ui:param name="moremenu" value="moremenu"/>
	
	<ui:define name="body">

		<ui:include src="../layout/tablenav.xhtml">
			<ui:param name="viewPath" value="/lists/CatBookAgreementDtlsList.xhtml"></ui:param>
			<ui:param name="entityList" value="#{catBookAgreementDtlsList}"></ui:param>
			<ui:param name="divId" value="1" />
		</ui:include>

		<a:form>

			<s:div id="header" styleclass="header">

				<div class="left">
					<span class="museo"> <h:outputText
							value="Book Agreement Details
(#{empty catBookAgreementDtlsList.resultList ? 0 : (catBookAgreementDtlsList.paginated ? catBookAgreementDtlsList.resultCount : catBookAgreementDtlsList.resultList.size)})"></h:outputText>
					</span>


					<h:selectOneMenu name="flavour"
						value="#{catBookAgreementDtlsList.flavour}">
						<s:selectItems value="#{catBookAgreementDtlsList.flavours}" var="i"
							itemValue="#{i}" label="#{catBookAgreementDtlsList.flavourLabel(i)}" />
						<a:support event="onchange"
							action="#{catBookAgreementDtlsList.updateUserSkinPreferences}"
							oncomplete="javascript: location.href='CatBookAgreementDtlsList.seam'" ignoreDupResponses="true"
							eventsQueue="booksListQueue" ajaxSingle="true" />
					</h:selectOneMenu>
					<s:link id="clearSearch" status="globalWaitStatus"
						ignoreDupResponses="true" styleClass="button wizard"
						action="#{catBookAgreementDtlsList.reset}" value="X" ajaxSingle="true"
						propagation="none"
						oncomplete="javascript: location.href='CatBookAgreementDtlsList.seam'">
						<f:param name="flavour" value="#{catBookAgreementDtlsList.flavour}" />
					</s:link>
				</div>
				  
				<div class="right">
					<ui:include src="adhocReportSelect.xhtml">
						<ui:param name="entityQuery" value="#{catBookAgreementDtlsList}"/>
					</ui:include>
				</div>
				


				

			</s:div>
			<!-- Shows hour glass when the table is loading -->
			<div id="globalStatusDiv" style="display: none;">
				<img src="../img/Animated-Hourglass.gif" />
			</div>
			<a:status id="globalWaitStatus" forceId="true" layout="none"
				onstart="jQuery('#globalStatusDiv').fadeIn('fast')"
				onstop="jQuery('#globalStatusDiv').fadeOut('slow')" />

			<div class="push" />

			<div id="mainlistscroller">

				<h:dataTable id="catBookAgreementDtlsList" var="_catBookAgreementDtls"
					value="#{catBookAgreementDtlsList.resultList}" rowClasses="odd,even" styleClass="mainListClass">

					<rich:column styleClass="checkBoxes" headerClass="checkBoxes"
						rendered="#{not empty catBooksBulkOperations.bulkOperationsNames}">
						<f:facet name="header">
							<h:panelGrid columns="1">
								<h:outputText value=" " />
								<input type="checkbox" id="select_all_checkbox"
									name="select_all_checkbox"
									onclick="if ( this.checked ) { jQuery('.bulk_checkbox').each(function(){ this.checked = true; }); } else { jQuery('.bulk_checkbox').each(function(){ this.checked = false; }); }" />
					
							</h:panelGrid>
						</f:facet>
						<div onclick="cancelEventBubbling(event);">
							<h:selectBooleanCheckbox styleClass="bulk_checkbox checkBoxes"
								value="#{catBooksBulkOperations.selections[_catBookAgreementDtls]}" />
						</div>
					</rich:column>

					<cats:column linkToId="#{_catBookAgreementDtls.id}"
						rendered="#{catBookAgreementDtlsList.listFlavour['id']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="ID"
						propertyPath="catBookAgreementDtls.id"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.id}"
						propertyName="id" sortable="true" value="#{_catBookAgreementDtls.id}" />
						
					<cats:column linkToId="#{_catBookAgreementDtls.id}"
						rendered="#{catBookAgreementDtlsList.listFlavour['catContracts.id']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Agreement ID"
						propertyPath="catBookAgreementDtls.catContracts.id"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catContracts.id}"
						propertyName="catContracts.id" sortable="true" value="#{_catBookAgreementDtls.catContracts.id}" />
						
					<cats:column linkToId="#{_catBookAgreementDtls.id}" 
						rendered="#{catBookAgreementDtlsList.listFlavour['catBooks.id']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Book ID"
						propertyPath="catBookAgreementDtls.catBooks.id"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catBooks.id}"
						propertyName="catBooks.id" sortable="true" value="#{_catBookAgreementDtls.catBooks.id}" />	
						
					<cats:column linkToId="#{_catBookAgreementDtls.id}" 
						rendered="#{catBookAgreementDtlsList.listFlavour['catBooks.bestTitle']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Book Best Title"
						propertyPath="catBookAgreementDtls.catBooks.bestTitle"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catBooks.bestTitle}"
						propertyName="catBooks.bestTitle" sortable="true" value="#{_catBookAgreementDtls.catBooks.bestTitle}" />	
						
					<cats:column linkToId="#{_catBookAgreementDtls.id}" 
						rendered="#{catBookAgreementDtlsList.listFlavour['catBooks.bestEisbn13']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Book Best EISBN13"
						propertyPath="catBookAgreementDtls.catBooks.bestEisbn13"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catBooks.bestEisbn13}"
						propertyName="catBooks.bestEisbn13" sortable="true" value="#{_catBookAgreementDtls.catBooks.bestEisbn13}" />
							
					<cats:column linkToId="#{_catBookAgreementDtls.id}" 
						rendered="#{catBookAgreementDtlsList.listFlavour['catBooks.booksPublishers']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Book Publisher"
						propertyPath="catBookAgreementDtls.catBooks.booksPublishers"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catBooks.booksPublishers}"
						propertyName="catBooks.booksPublishers" sortable="true" value="#{_catBookAgreementDtls.catBooks.booksPublishers}" />
						
					<cats:column linkToId="#{_catBookAgreementDtls.id}" sortable="true"
						rendered="#{catBookAgreementDtlsList.listFlavour['catDateAddedToAgreement']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Date Added"
						propertyPath="catBookAgreementDtls.catDateAddedToAgreement"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catDateAddedToAgreement}"
						propertyName="catDateAddedToAgreement"
						value="#{_catBookAgreementDtls.catDateAddedToAgreement}">
						<s:convertDateTime type="both" pattern="yyyy/MM/dd HH:mm:ss"></s:convertDateTime>
					</cats:column>
					
					<cats:column sortable="true" linkToId="#{_catBookAgreementDtls.id}"
						rendered="#{listFlavour['catLifecycle']}"
						enumList="#{listsForEnums.catBookAgrmtDtls_Lifecycle}"
						entityList="#{catBookAgreementDtlsList}"
						propertyLabel="Lifecycle"
						propertyPath="catBookAgreementDtls.catLifecycle"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catLifecycle}"
						propertyName="catLifecycle"
						value="#{_catBookAgreementDtls.catLifecycle.label}"/>
					
					
					<cats:column sortable="true" linkToId="#{_catBookAgreementDtls.id}"
						enumList="#{listsForEnums.catBookAgrmtDtls_Outcome}"
						rendered="#{listFlavour['catOutcome']}"
						entityList="#{catBookAgreementDtlsList}"
						propertyLabel="Outcome"
						propertyPath="catBookAgreementDtls.catOutcome"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catOutcome}"
						propertyName="catOutcome"
						value="#{_catBookAgreementDtls.catOutcome.label}"/>
					
					
					<cats:column linkToId="#{_catBookAgreementDtls.id}" sortable="true"
						rendered="#{catBookAgreementDtlsList.listFlavour['catTerminationDateSchd']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Future Termination Date"
						propertyPath="catBookAgreementDtls.catTerminationDateSchd"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catTerminationDateSchd}"
						propertyName="catTerminationDateSchd"
						value="#{_catBookAgreementDtls.catTerminationDateSchd}">
						<s:convertDateTime type="both" pattern="yyyy/MM/dd HH:mm:ss"></s:convertDateTime>
					</cats:column>
					
					<cats:column linkToId="#{_catBookAgreementDtls.id}" sortable="true"
						rendered="#{catBookAgreementDtlsList.listFlavour['catTerminationDateActl']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Termination Date"
						propertyPath="catBookAgreementDtls.catTerminationDateActl"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catTerminationDateActl}"
						propertyName="catTerminationDateActl"
						value="#{_catBookAgreementDtls.catTerminationDateActl}">
						<s:convertDateTime type="both" pattern="yyyy/MM/dd HH:mm:ss"></s:convertDateTime>
					</cats:column>
					
					<cats:column sortable="true" linkToId="#{_catBookAgreementDtls.id}"
						rendered="#{listFlavour['catFutureLicensor']}"
						entityList="#{catBookAgreementDtlsList}"
						propertyLabel="Future Licensor"
						propertyPath="catBookAgreementDtls.catFutureLicensor"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catFutureLicensor}"
						propertyName="catFutureLicensor"
						value="#{_catBookAgreementDtls.catFutureLicensor}">
					</cats:column>
					
					<cats:column sortable="true" linkToId="#{_catBookAgreementDtls.id}"
						rendered="#{listFlavour['catReasonLicensorNotReqd']}"
						entityList="#{catBookAgreementDtlsList}"
						propertyLabel="Reason Licensor Not Required"
						propertyPath="catBookAgreementDtls.catReasonLicensorNotReqd"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catReasonLicensorNotReqd}"
						propertyName="catReasonLicensorNotReqd"
						value="#{_catBookAgreementDtls.catReasonLicensorNotReqd}">
					</cats:column>					
											
					<cats:column linkToId="#{_catBookAgreementDtls.id}" sortable="true"
						rendered="#{catBookAgreementDtlsList.listFlavour['catDateModified']}"
						entityList="#{catBookAgreementDtlsList}" propertyLabel="Date Modified"
						propertyPath="catBookAgreementDtls.catDateModified"
						propertyValue="#{catBookAgreementDtlsList.catBookAgreementDtls.catDateModified}"
						propertyName="catDateModified"
						value="#{_catBookAgreementDtls.catDateModified}">
						<s:convertDateTime type="both" pattern="yyyy/MM/dd HH:mm:ss"></s:convertDateTime>
					</cats:column>

				</h:dataTable>
			</div>
		</a:form>

		<ui:include src="../layout/tablenav.xhtml">
			<ui:param name="viewPath" value="/lists/CatBookAgreementDtlsList.xhtml"></ui:param>
			<ui:param name="entityList" value="#{catBookAgreementDtlsList}"></ui:param>
			<ui:param name="divId" value="2" />
		</ui:include>

		<!-- when used in conjunction with a BaseListFlavour, this will order the columns per the configuration order. -->
		<rich:jQuery timing="onload" name="orderColumns"
			selector="#mainlistscroller > .mainListClass > thead:first-child > tr:first-child, #mainlistscroller > .mainListClass > tbody > tr"
			query="#{catBookAgreementDtlsList.listFlavour.getColumnOrderingJQuery()}" id="orderJQuery"/>
	</ui:define>
</ui:composition>
