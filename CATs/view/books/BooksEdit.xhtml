<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="../layout/template.xhtml">

	<ui:param name="entityType" value="books" />
	<ui:param name="moremenu" value="moremenu"/>
	
	<ui:define name="badge">
		<ui:include src="BooksBadge.xhtml" />
	</ui:define>

	<ui:define name="body">
		<h:form id="booksEditForm">
		<!-- Shows hour glass when the table is loading -->
			<div id="globalStatusDiv" style="display: none;" ><img
				src="../img/loading.gif" /></div>
			<a:status id="globalWaitStatus" forceId="true" layout="none"
				onstart="jQuery('#globalStatusDiv').fadeIn('fast')"
				onstop="jQuery('#globalStatusDiv').fadeOut('slow')" />
				
			<rich:tabPanel 
				id="maintab" 
			   switchType="ajax"
				styleClass="tab"
				contentClass="tab_content"
				selectedTab="#{catBooksHome.selectedTab}">

				<rich:tab label="Books Information" id="tab1" name="tab1" eventsQueue="booksEditQueue" status="globalWaitStatus"
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('tab1')}">
					<ui:include src="BooksInformationTab.xhtml" />
				</rich:tab>
				<rich:tab label="Book Agreement Details" id="tab2" name="tab2" eventsQueue="booksEditQueue" status="globalWaitStatus"
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('tab2')}">
					<ui:include src="BooksAgreementDtlsTab.xhtml" />
				</rich:tab>
				<rich:tab label="SCM" id="tab3" name="tab3" eventsQueue="booksEditQueue" status="globalWaitStatus"
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('tab3')}">
					<ui:include src="ScmTab.xhtml" />
				</rich:tab>
				<rich:tab label="Submissions" id="tab5" name="tab5" eventsQueue="booksEditQueue" status="globalWaitStatus"
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('tab5')}">
					<ui:include src="SubmissionsTab.xhtml" />
				</rich:tab>
			 	<rich:tab label="Assets" id="coversTab" name="coversTab" eventsQueue="booksEditQueue" status="globalWaitStatus"
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('coversTab')}">
					<ui:include src="CoversTab.xhtml" />
				</rich:tab>
				<rich:tab label="Platform" id="platformTab" name="platformTab" eventsQueue="booksEditQueue" status="globalWaitStatus"
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('platformTab')}">
					<ui:include src="PlatformTab.xhtml" />
				</rich:tab>
				<rich:tab label="Audit" id="tab6" name="tab6" eventsQueue="booksEditQueue" status="globalWaitStatus" 
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('tab6')}" >
					<ui:include src="BooksAuditTab.xhtml" />
				</rich:tab>
				<rich:tab label="Events" id="eventsTab" name="eventsTab" eventsQueue="booksEditQueue" status="globalWaitStatus" 
					 limitToList="true" action="#{catBooksHome.updateUserTabPreferences('eventsTab')}">
					<ui:include src="BooksEventsTab.xhtml" />
				</rich:tab>
			</rich:tabPanel>
			<div id="functions">
			<a:commandLink action="#{catBooksHome.update}"  
		    		onclick=" if ( jQuery(this).hasClass('disabled') ) { return false; } " 
		    		ignoreDupResponses="true" styleClass="button saveOrCancel disabled" 
		    		value="Save"
		    		reRender="booksEditForm" limitToList="true"
		    		eventsQueue="booksEditQueue" status="globalWaitStatus" />
		    	<a:commandLink action="#{catBooksHome.cancel}" 
		    		onclick=" if ( jQuery(this).hasClass('disabled') ) { return false; } " 
		    		ignoreDupResponses="true" ajaxSingle="true" styleClass="button saveOrCancel disabled" 
		    		value="Cancel" limitToList="true"
		    		eventsQueue="booksEditQueue" status="globalWaitStatus"/>
			</div>
		</h:form>

		<ui:include src="changem_ChangeSeries.xhtml">
		<ui:param name="pageURL" value="/books/BooksEdit.xhtml"/>
		</ui:include>
			<ui:include src="changem_ChangeSet.xhtml">
		<ui:param name="pageURL" value="/books/BooksEdit.xhtml"/>
		</ui:include>
		<ui:include src="delinkm_SetTitle.xhtml">
			<ui:param name="pageURL" value="/books/BooksEdit.xhtml"/>
		</ui:include>
			<ui:include src="addSubmission_m.xhtml">
		<ui:param name="pageURL" value="/books/BooksEdit.xhtml"/>
	</ui:include>	
	</ui:define>
</ui:composition>
