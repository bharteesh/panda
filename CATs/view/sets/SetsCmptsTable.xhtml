<s:div id="#{divId}" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:cats="http://www.ithaka.org/cats">
    
    <div class="smart">

    	<div class="header">
				<div class="left">
					<span class="museo">
						<h:outputText value="#{tableType eq 'Components' ? 'Components in this Set':'Related Components'} (#{componentList.size})"/>
					</span>
					<a:commandLink value="X" action="#{sortFiltBean.resetSortFilt('cmpt'.concat(divId))}" 
						ignoreDupResponses="true" status="globalWaitStatus"  reRender="#{tableId}" 
						eventsQueue="setsEditQueue"
						styleClass="button wizard"/>
				</div>

				<div class="right">
					<s:fragment rendered="#{tableType eq 'Components'}">
						<a:commandLink  limitToList="true" status="globalWaitStatus"
							action="#{createComponentWizard.initWizard(catSetsHome.instance)}" 
							ajaxSingle="true" ignoreDupResponses="true" 
							value="Add Component" 
							reRender="createCmptForm" 
							oncomplete="#{rich:component('createCmptWizardModal')}.show(); return false;" 
							styleClass="button wizard #{!createComponentWizard.hasPermissionCreateCmpt ? 'disabled' : ''}"
							disabled="#{!createComponentWizard.hasPermissionCreateCmpt}"
							onclick="if ( ! checkForSave() ) { return false ; }"/>	
					</s:fragment>
					
					<s:fragment rendered="#{tableType eq 'RelatedComponents'}">
						<a:commandLink  limitToList="true" status="globalWaitStatus"
							action="#{createComponentWizard.initWizard}" 
							ajaxSingle="true" ignoreDupResponses="true" 
							value="Add Component" 
							reRender="createCmptForm" 
							oncomplete="#{rich:component('createCmptWizardModal')}.show(); return false;" 
							styleClass="button wizard #{!createComponentWizard.hasPermissionCreateCmpt ? 'disabled' : ''}"
							disabled="#{!createComponentWizard.hasPermissionCreateCmpt}"
							onclick="if ( ! checkForSave() ) { return false ; }"/>
							
						<a:commandLink  limitToList="true" status="globalWaitStatus"
							action="#{createSetWizard.initWizard}" 
							ajaxSingle="true" ignoreDupResponses="true" 
							value="Add Set" 
							reRender="createSetForm" 
							oncomplete="#{rich:component('createSetWizardModal')}.show(); return false;" 
							styleClass="button wizard #{!createSetWizard.hasPermissionCreateSet ? 'disabled' : ''}"
							disabled="#{!createSetWizard.hasPermissionCreateSet}"
							onclick="if ( ! checkForSave() ) { return false ; }"/>
							
					</s:fragment>
					
					<h:selectOneMenu id="#{tableId}bulkOperationsSelect"
									 rendered="#{not empty cmptsBulkOperations.bulkOperationsNames and tableType eq 'Components' and (not empty componentList)}" 
									 value="#{cmptsBulkOperations.bulkOperationsType}"
									 onfocus="if ( ! checkForSave() ) { return false ; }">
					<a:support event="onchange"
							   action="#{cmptsBulkOperations.prepBulkOperations(tableId, ''.concat( tableId ).concat('bulkOperationsSelect'))}"
							   reRender="cmptBulkOperationsPanels, addContractDtlsModalPanels, createTitleRelnshpsModalPanels, createPublisherRolesOperationsPanels, editProdStatusemodalDiv, editCspOnboardingStatusmodalDiv"
							   oncomplete="if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect'))}.options[this.options.selectedIndex].value == 'CREATECONTDTLS' )	{									
									 			#{rich:component('addContractDtlsPanel')}.show();
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect'))}.options[this.options.selectedIndex].value == 'ADDPUBROLE' ) {
												#{rich:component('createPublisherRolesPanel')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect'))}.options[this.options.selectedIndex].value == 'CREATETITLERELNS' ) {
												#{rich:component('createTitleRelnshpsPanel')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect'))}.options[this.options.selectedIndex].value == 'PRODSTATUS' ) {
												#{rich:component('editProdStatusWizardModal')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect'))}.options[this.options.selectedIndex].value == 'CSPSTATUS' ) {
												#{rich:component('editCspOnboardingStatusWizardModal')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect'))}.options.selectedIndex != 0 ) {
												 #{rich:component('cmptBulkUpdatePanel')}.show(); 
											} ; return false; "
									  
							   status="globalWaitStatus"
							   eventsQueue="setsEditQueue"/>
					<s:selectItems value="#{cmptsBulkOperations.bulkOperationsNames}" var="b"
						label="#{cmptsBulkOperations.bulkOperations[b]}" itemValue="#{b}"
						noSelectionLabel="Bulk Operations" />
				</h:selectOneMenu>
				
				<h:selectOneMenu id="#{tableId}bulkOperationsSelect1"
									 rendered="#{not empty cmptsBulkOperations.bulkOperationsNames and tableType eq 'RelatedComponents' and (not empty componentList)}" 
									 value="#{cmptsBulkOperations.bulkOperationsType1}"
									 onfocus="if ( ! checkForSave() ) { return false ; }">
					<a:support event="onchange"
							   action="#{cmptsBulkOperations.prepBulkOperations(tableId, ''.concat( tableId ).concat('bulkOperationsSelect1'))}"
							   reRender="cmptBulkOperationsPanels, addContractDtlsModalPanels, createTitleRelnshpsModalPanels, editProdStatusemodalDiv, editCspOnboardingStatusmodalDiv"
							   oncomplete="if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect1'))}.options[this.options.selectedIndex].value == 'CREATECONTDTLS' )	{									
									 			#{rich:component('addContractDtlsPanel')}.show();
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect1'))}.options[this.options.selectedIndex].value == 'ADDPUBROLE' ) {
												#{rich:component('createPublisherRolesPanel')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect1'))}.options[this.options.selectedIndex].value == 'CREATETITLERELNS' ) {
												#{rich:component('createTitleRelnshpsPanel')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect1'))}.options[this.options.selectedIndex].value == 'PRODSTATUS' ) {
												#{rich:component('editProdStatusWizardModal')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect1'))}.options[this.options.selectedIndex].value == 'CSPSTATUS' ) {
												#{rich:component('editCspOnboardingStatusWizardModal')}.show();   															 			
											} else if ( #{rich:element(''.concat( tableId ).concat('bulkOperationsSelect1'))}.options.selectedIndex != 0 ) {
												 #{rich:component('cmptBulkUpdatePanel')}.show(); 
											} ; return false; "
									  
							   status="globalWaitStatus"
							   eventsQueue="setsEditQueue"/>
					<s:selectItems value="#{cmptsBulkOperations.bulkOperationsNames}" var="b"
						label="#{cmptsBulkOperations.bulkOperations[b]}" itemValue="#{b}"
						noSelectionLabel="Bulk Operations" />
				</h:selectOneMenu>
				
				
					
			</div>
		</div>
		<div class="push"/>
		
		<div class="height:200; overflow: auto;">
    	  <rich:dataTable id="#{tableId}"
                var="_catCmpts"
              value="#{componentList}"
            rendered="#{not empty componentList}"
            onRowDblClick="linkTo('#{_catCmpts.id}')">
           
        	
        	<rich:column rendered="#{not empty cmptsBulkOperations.bulkOperationsNames and tableType eq 'Components'}" width="20px">
					<f:facet name="header">
						<input type="checkbox" id="select_all_checkbox"
								name="select_all_checkbox"
								onclick="if ( this.checked ) { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = true; }); } else { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = false; }); }" />
					</f:facet>
					<h:selectBooleanCheckbox styleClass="#{divId}bulk_checkbox"
						value="#{cmptsBulkOperations.selections[_catCmpts]}" />
				</rich:column>
           	
           	<rich:column rendered="#{not empty cmptsBulkOperations.bulkOperationsNames and tableType eq 'RelatedComponents'}" width="20px">
					<f:facet name="header">
						<input type="checkbox" id="#{divId}select_all_checkbox1"
								name="select_all_checkbox"
								onclick="if ( this.checked ) { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = true; }); } else { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = false; }); }" />
					</f:facet>
					<h:selectBooleanCheckbox styleClass="#{divId}bulk_checkbox"
						value="#{cmptsBulkOperations.selections1[_catCmpts]}" />
				</rich:column>
           
        		<rich:column id="cpmtName" 
							 sortBy="#{_catCmpts.catName}" filterBy="#{_catCmpts.catName}" 
							 sortable="true"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt2_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt2_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Name"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catName}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catSubtitle" sortBy="#{_catCmpts.catSubtitle}" filterBy="#{_catCmpts.catSubtitle}" 
	        				 sortable="true"
	        				 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt3_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt3_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Subtitle"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catSubtitle}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catSets" 
							 sortBy="#{_catCmpts.setsValue}"	filterBy="#{_catCmpts.setsValue}" 
							 sortable="true"
							 rendered="#{flavour eq 'TitleHistorySet' || flavour eq 'NeededSource'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt4_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt4_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Sets"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.setsValue}" />
					</s:link>        		
	        	</rich:column>
				
				<rich:column id="bfOnboarding" sortBy="#{_catCmpts.bfOverallOnboardingStatus}" 
					filterBy="#{_catCmpts.bfOverallOnboardingStatus}" sortable="true" width="50px"
					sortOrder="#{sortFiltBean['catCmpts'.concat(divId)]['bfOnboarding_sortOrder']}"
					filterValue="#{sortFiltBean['catCmpts'.concat(divId)]['bfOnboarding_filterValue']}">
			       	<f:facet name="header">
			       		<h:outputText value="BF Onboarding"/>
			       	</f:facet>
			       	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			       		<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.bfOverallOnboardingStatus}" />        		
			       	</s:link>
		        </rich:column>
		        
		        <rich:column id="cspOnboarding" sortBy="#{_catCmpts.cspOverallOnboardingStatus}" 
					filterBy="#{_catCmpts.cspOverallOnboardingStatus}" sortable="true" width="50px"
					sortOrder="#{sortFiltBean['catCmpts'.concat(divId)]['cspOnboarding_sortOrder']}"
					filterValue="#{sortFiltBean['catCmpts'.concat(divId)]['cspOnboarding_filterValue']}">
			       	<f:facet name="header">
			       		<h:outputText value="CSP Onboarding"/>
			       	</f:facet>
			       	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
			       		<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.cspOverallOnboardingStatus}" />        		
			       	</s:link>
		        </rich:column>	
				
				<rich:column id="catWithdrawStatus" 
							 sortBy="#{_catCmpts.catWithdrawStatus.label}"	filterBy="#{_catCmpts.catWithdrawStatus.label}" 
							 sortable="true"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt51_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt51_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Withdraw Status"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catWithdrawStatus.label}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catSelectionRecommendation" 
							 sortBy="#{_catCmpts.catSelectionRecommendation.label}" filterBy="#{_catCmpts.catSelectionRecommendation.label}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt6_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt6_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Recommended?"/> 
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catSelectionRecommendation.label}" />
					</s:link>        		
	        	</rich:column>
				
				<!-- @TODO Add Title Relationships -->
				
				<rich:column id="catSelRightsRollUp" 
	        				 sortBy="#{_catCmpts.selectionRightsValue}" filterBy="#{_catCmpts.selectionRightsValue}" 
							 sortable="true"
	        				 rendered="#{flavour eq 'NeededSource'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt7_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt7_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Rights"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.selectionRightsValue}" />
					</s:link>    		
	        	</rich:column>
				
				<rich:column id="catPublctnUnitRange" 
							 sortBy="#{_catCmpts.catPublctnUnitRange}" filterBy="#{_catCmpts.catPublctnUnitRange}" 
							 sortable="true"
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt8_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt8_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Extent (Pub Units)"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catPublctnUnitRange}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catProdStatus" 
	        	 			 sortBy="#{_catCmpts.catProductionStatus.label}" filterBy="#{_catCmpts.catProductionStatus.label}" 
	        	 			 sortable="true"
	        	 			 rendered="#{flavour eq 'NeededSource'}"
	        	 			 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt9_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt9_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="BF Prod Status"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catProductionStatus.label}" />
					</s:link>        		
	        	</rich:column>
					
				<rich:column id="catDateRange" 
							 sortBy="#{_catCmpts.catDateRange}" filterBy="#{_catCmpts.catDateRange}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt10_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt10_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Extent (Dates)"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catDateRange}" />
					</s:link>        		
	        	</rich:column>
				
				<rich:column id="catStartYear" 
							 sortBy="#{_catCmpts.catStartYear}" filterBy="#{_catCmpts.catStartYear}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt101_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt101_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Start Year"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catStartYear}">
							<s:convertDateTime type="date" pattern="yyyy"/>
						</h:outputText>
					</s:link>        		
	        	</rich:column>
					
				<rich:column id="catPrintIssn" 
							 sortBy="#{_catCmpts.catPrintIssn}" filterBy="#{_catCmpts.catPrintIssn}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt11_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt11_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Print ISSN"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catPrintIssn}" />
					</s:link>        		
	        	</rich:column>
				
				<rich:column id="catEIssn" 
							 sortBy="#{_catCmpts.catEIssn}" filterBy="#{_catCmpts.catEIssn}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt30_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt30_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="EISSN"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catEIssn}" />
					</s:link>        		
	        	</rich:column>

				<rich:column id="catIssnStatus" 
							 sortBy="#{_catCmpts.catIssnStatus.label}" filterBy="#{_catCmpts.catIssnStatus.label}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt12_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt12_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="ISSN Status"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catIssnStatus.label}" />
					</s:link>        		
	        	</rich:column>
				
				<rich:column id="catThOclcNumber" 
							 sortBy="#{_catCmpts.catThOclcNumber}" filterBy="#{_catCmpts.catThOclcNumber}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt13_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt13_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="OCLC Number"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catThOclcNumber}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catListOnBin" 
	        				 sortBy="#{_catCmpts.catListOnBin}" filterBy="#{_catCmpts.catListOnBin}" 
	        				 sortable="true" 
	        				 rendered="#{flavour eq 'NeededSource'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt14_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt14_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="List on BIN"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catListOnBin ? 'Yes' : 'No'}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<!-- DATA TYPE is BLOB, Need to provide see note link -->
	        	<rich:column id="catNeedSourceList" 
	        				 width="50px"
	        				 rendered="#{flavour eq 'NeededSource'}">
		        	<f:facet name="header">
		        		<h:outputText value="Needed Source"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catNeededSourceList}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catNeededSrcChangeDate" 
	        				 sortBy="#{_catCmpts.catNeededSourceDateChange}" filterBy="#{_catCmpts.catNeededSourceDateChange}" 
	        				 sortable="true"
	        				 rendered="#{flavour eq 'NeededSource'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt16_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt16_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Needed Source Changed"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catNeededSourceDateChange}" >
							<s:convertDateTime type="date" pattern="yyyy/MM/dd"/>
						</h:outputText>
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catLicensorRollUp" 
	        				 sortBy="#{_catCmpts.licensorValue}" filterBy="#{_catCmpts.licensorValue}"
	        				 sortable="true"
	        				 rendered="#{flavour eq 'Rights' || flavour eq 'RightsSet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt17_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt17_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="BF Licensor"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
		        		<h:outputText value="#{_catCmpts.licensorValue}" />
		        	</s:link>
				</rich:column>
	        	
	        	<rich:column id="catPublisherRollUp" 
	        				 sortBy="#{_catCmpts.publisherValue}" filterBy="#{_catCmpts.publisherValue}"
	        				 sortable="true"
	        				 rendered="#{flavour eq 'Rights' || flavour eq 'RightsSet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt18_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt18_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Publisher Roles"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
		        		<h:outputText value="#{_catCmpts.publisherValue}" />
		        	</s:link>
				</rich:column>
				
				<rich:column id="catExcludedRange" 
	        				 sortBy="#{_catCmpts.catExcludedRange}" filterBy="#{_catCmpts.catExcludedRange}" 
	        				 sortable="true"
	        				 rendered="#{flavour eq 'Rights' || flavour eq 'RightsSet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt19_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt19_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Excluded Range"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catExcludedRange}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	
	        	<rich:column id="catLTMJournalID" 
	        				 sortBy="#{_catCmpts.catLtmJournalId}" filterBy="#{_catCmpts.catLtmJournalId}" 
	        				 sortable="true"
	        				 rendered="#{flavour eq 'Rights' || flavour eq 'RightsSet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt20_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt20_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="LTM ID"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catLtmJournalId}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catLTMJournalCode" 
	        				 sortBy="#{_catCmpts.catLtmJournalCode}" filterBy="#{_catCmpts.catLtmJournalCode}" 
	        				 sortable="true"
	        				 rendered="#{flavour eq 'Rights' || flavour eq 'RightsSet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt21_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt21_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="LTM Code"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catLtmJournalCode}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catGrantCode" 
	        				 sortBy="#{_catCmpts.catGrantCode}" filterBy="#{_catCmpts.catGrantCode}" 
	        				 sortable="true"
	        				 rendered="#{flavour eq 'Rights' || flavour eq 'RightsSet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt22_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt22_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Grant Code"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catGrantCode}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="catOnHold" 
	        				 sortBy="#{_catCmpts.catOnHold}" sortable="true" 
	        				
	        				 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet'}"
	        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt23_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt23_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="On Hold?"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.catOnHold ? 'Yes' : 'No'}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="terminationDateValue" 
							 sortBy="#{_catCmpts.terminationDateValue}" filterBy="#{_catCmpts.terminationDateValue}" 
							 sortable="true" 
							 rendered="#{flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet'}"
							 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmptTermDate_sortOrder']}"
						 	 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmptTermDate_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="Termination Date"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.terminationDateValue}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	<rich:column id="componentIdRig" 
        				 sortBy="#{_catCmpts.id}" filterBy="#{_catCmpts.id}" sortable="true"
        				 sortOrder="#{sortFiltBean['cmpt'.concat(divId)]['cmpt24_sortOrder']}"
						 filterValue="#{sortFiltBean['cmpt'.concat(divId)]['cmpt24_filterValue']}">
		        	<f:facet name="header">
		        		<h:outputText value="ID"/>
		        	</f:facet>
		        	<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
						<f:param name="id" value="#{_catCmpts.id}"/>
						<h:outputText value="#{_catCmpts.id}" />
					</s:link>        		
	        	</rich:column>
	        	
	        	
	        	<rich:column id="delinkCmptId"        				 
        				 rendered="#{tableType eq 'Components' and (flavour eq 'TitleHistory' || flavour eq 'TitleHistorySet' || flavour eq 'Rights' || flavour eq 'RightsSet')}">
		        	
		        	<a:commandLink 
		        		action="#{delinkComponentWizard.prepareDelink(_catCmpts, catSetsHome.instance)}"
		        		reRender="delinkCmptModalConfirm, delinkCmptModal"
		        		status="globalWaitStatus"
		        		disabled="#{!s:hasPermission(catSetsHome.instance, 'remove_reln catSetsComponents') or !delinkComponentWizard.isDelinkAllowed(_catCmpts, catSetsHome.instance)}"
		        		styleClass="button delink #{(!s:hasPermission(catSetsHome.instance, 'remove_reln catSetsComponents') or !delinkComponentWizard.isDelinkAllowed(_catCmpts, catSetsHome.instance)) ? 'disabled' : ''}"
		        		oncomplete="if(#{catSetsHome.instance.catCurrentTitle.id eq _catCmpts.id}) {
		        						Richfaces.showModalPanel('delinkCmptModal');
		        		 			}else {
		        						Richfaces.showModalPanel('delinkCmptModalConfirm');
		        					}
		        		">
		        		<f:param name="cmptName" value="#{_catCmpts.catName}"/>		        		
		        	</a:commandLink>
						   		
	        	</rich:column>
       		
        	</rich:dataTable>
        	
        	</div>
        	
        	
    	</div>
    	
    	
    
</s:div>