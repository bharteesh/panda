<s:div id="#{divId}" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:cats="http://www.ithaka.org/cats">
	
	<div class="smart">
		<div class="header">
			<div class="left">
				<span class="museo">
					<h:outputText value="Wall Details for this Set (#{catSetsHome.getCatWallDetails().size})" />
				</span>
				<a:commandLink value="X" action="#{sortFiltBean.resetSortFilt('wDetails'.concat(divId))}" 
					ignoreDupResponses="true" status="globalWaitStatus"  reRender="#{tableId}" 
					styleClass="button wizard"
					eventsQueue="setsEditQueue"/>
			</div>
			<div class="right">
				<a:commandLink id="createWallDetailsButton"
					ignoreDupResponses="true"
				    action="#{createWallDetailsWizard.prepCreateOperation(catSetsHome.instance)}"
					value="Add Wall Detail"
					reRender="createWallDetailsOperationsPanels" 
					oncomplete="#{rich:component('createWallDetailsPanel')}.show();"
					styleClass="button wizard #{!(s:hasPermission(catSetsHome.instance, 'modify catWallDtlses') or s:hasPermission(catSetsHome.instance, 'add_reln catWallDtlses')) ? 'disabled' : ''}"
					disabled="#{!(s:hasPermission(catSetsHome.instance, 'modify catWallDtlses') or s:hasPermission(catSetsHome.instance, 'add_reln catWallDtlses'))}"
					status="globalWaitStatus"
					eventsQueue="setsEditQueue"
					ajaxSingle="true"
					onclick="if ( ! checkForSave() ) { return false ; }"/>
				
				<h:selectOneMenu id="#{tableId}catWallDtlsBulkOpSelect" 
					rendered="#{not empty catSetsHome.getCatWallDetails()}" 
					value="#{catWallDtlsBulkOperations.bulkOperationsType}">
					
            		<a:support  
            			onclick="if ( ! checkForSave() ) { return false ; }"  
            			event="onchange" 
            			action="#{catWallDtlsBulkOperations.prepBulkOperations( tableId, ''.concat(tableId).concat('catWallDtlsBulkOpSelect') )}" 
            			reRender="catWallDtlsListBulkOperationsPanels" 
            			oncomplete="if ( #{rich:element(''.concat(tableId).concat('catWallDtlsBulkOpSelect'))}.options.selectedIndex != 0 ) { #{rich:component('catWallDtlsBulkPanel')}.show(); } ; return false; " 
            			ignoreDupResponses="true" status="globalWaitStatus"/>
            			
            		<s:selectItems 
            			value="#{catWallDtlsBulkOperations.bulkOperationsNames}" var="b" 
            			label="#{catWallDtlsBulkOperations.bulkOperations[b]}" 
            			itemValue="#{b}" noSelectionLabel="Bulk Operations"/>
          </h:selectOneMenu>
					
			</div>
		</div>
		<rich:dataTable id="#{tableId}" var="_catwallDtls"
			value="#{catSetsHome.getCatWallDetails()}"
			rendered="#{not empty catSetsHome.getCatWallDetails()}">
			
			<rich:column styleClass="checkBoxes" headerClass="checkBoxes" 
				rendered="#{not empty catWallDtlsBulkOperations.bulkOperationsNames}">
            	<f:facet name="header">
                	<input type="checkbox" id="#{divId}select_all_checkbox" 
                		name="select_all_checkbox" 
                		onclick="if ( this.checked ) { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = true; }); } else { jQuery('.#{divId}bulk_checkbox').each(function(){ this.checked = false; }); }" />
            	</f:facet>
            	<div onclick="cancelEventBubbling(event);">
              		<h:selectBooleanCheckbox styleClass="#{divId}bulk_checkbox" 
              			value="#{catWallDtlsBulkOperations.selections[_catwallDtls]}"/>
            	</div>
          	</rich:column>
			

			<rich:column id="lifecycle" sortBy="#{_catwallDtls.catLifecycle.label}"
				filterBy="#{_catwallDtls.catLifecycle.label}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls1_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls1_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Lifecycle"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catLifecycle.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="wallType" sortBy="#{_catwallDtls.catWallType.label}"
				filterBy="#{_catwallDtls.catWallType.label}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls2_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls2_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Wall Type"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catWallType.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="movingValue" sortBy="#{_catwallDtls.catMovingValue}"
				filterBy="#{_catwallDtls.catMovingValue}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls3_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls3_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Moving Value"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catMovingValue}" />
				</s:link>
			</rich:column>
			
			<rich:column id="fixedDate" sortBy="#{_catwallDtls.catFixedDate}"
				filterBy="#{_catwallDtls.catFixedDate}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls4_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls4_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Fixed Date"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catFixedDate}" >
					<s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime></h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="ceasedDate" sortBy="#{_catwallDtls.catCeasedDate}"
				filterBy="#{_catwallDtls.catCeasedDate}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls5_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls5_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Cease Date"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catCeasedDate}" >
					<s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime></h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="effectiveDate" sortBy="#{_catwallDtls.catEffectiveDate}"
				filterBy="#{_catwallDtls.catEffectiveDate}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls6_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls6_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Amendment Date"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catEffectiveDate}" >
					<s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime></h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="impDateSchd" sortBy="#{_catwallDtls.catImplementationDateSchd}"
				filterBy="#{_catwallDtls.catImplementationDateSchd}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls7_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls7_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Sch. Implementation"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catImplementationDateSchd}" >
					<s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime></h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="impDatePrjd" sortBy="#{_catwallDtls.catImplementationDatePrjd}"
				filterBy="#{_catwallDtls.catImplementationDatePrjd}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls8_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls8_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Proj. Implementation"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catImplementationDatePrjd}" >
					<s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime></h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="impDateActl" sortBy="#{_catwallDtls.catImplementationDateActl}"
				filterBy="#{_catwallDtls.catImplementationDateActl}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls9_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls9_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Act. Implementation"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catImplementationDateActl}" >
					<s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime></h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="dateDeprecated" sortBy="#{_catwallDtls.catDateDeprecated}"
				filterBy="#{_catwallDtls.catDateDeprecated}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls10_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls10_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Deprecated"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catDateDeprecated}" >
					<s:convertDateTime type="date" pattern="yyyy/MM/dd"></s:convertDateTime></h:outputText>
				</s:link>
			</rich:column>
			
			<rich:column id="changeType" sortBy="#{_catwallDtls.catChangeType.label}"
				filterBy="#{_catwallDtls.catChangeType.label}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls11_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls11_filterValue']}">
				<f:facet name="header">
					<h:outputText value="Change Type"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.catChangeType.label}" />
				</s:link>
			</rich:column>
			
			<rich:column id="wallDetailsId" sortBy="#{_catwallDtls.id}"
				filterBy="#{_catwallDtls.id}" sortable="true"
				sortOrder="#{sortFiltBean['wDetails'.concat(divId)]['wDtls12_sortOrder']}"
				filterValue="#{sortFiltBean['wDetails'.concat(divId)]['wDtls12_filterValue']}">
				<f:facet name="header">
					<h:outputText value="ID"/>
				</f:facet>
				<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml">
					<f:param name="id" value="#{_catwallDtls.id}"/>
					<h:outputText value="#{_catwallDtls.id}" />
				</s:link>
			</rich:column>
			
		</rich:dataTable>

	</div>



</s:div>