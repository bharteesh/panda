<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib">

	<h2><h:outputText value="#{createTitleRelationshipsWizard.bulkTitle}" /></h2>

	<div id="step1">
	<ul class="steps">
		<li class="disabled">1. Permissions</li>
		<li class="disabled">2. Main</li>
		<li class="selected">3. Select</li>
		<li class="disabled">4. Results</li>
	</ul>
	
	<div class="cluster smart">		
		<s:div id="chooseCmptsFragment">
		<p><h:outputText value="#{createTitleRelationshipsWizard.initCmpt.catName}"/> <em><h:outputText value="#{createTitleRelationshipsWizard.selectedRelnType.label}"/></em></p>
					<h:outputText value="Search by name:"/>
					<h:inputText id="default_search_catCmptsList_titlerelnshps" value="#{catCmptsList.catCmpts.catName}"	onchange="return false;" size="60"/>
	
					<a:commandLink styleClass="button filter"
					value="Go"					
					action="#{createTitleRelationshipsWizard.narrowCmptsList(rich:findComponent('default_search_catCmptsList_titlerelnshps').value)}"
					reRender="chooseCmptsFragment" 
					status="globalWaitStatus"
					ignoreDupResponses="true"/>
					
				
				<div class="scroller">
				<rich:panel>
					<f:facet name="header">
						<h:outputText value="Components (#{catCmptsList.resultCount})" />
					</f:facet>
				</rich:panel>
				<rich:dataTable id="catCmptsOfSet"
			var="_catCmpts" value="#{catCmptsList.resultList}"
			rendered="#{not empty catCmptsList.resultList}">

			<rich:column styleClass="checkBoxes" headerClass="checkBoxes">
				<s:fragment rendered="#{not createTitleRelationshipsWizard.selectedTypeUnion}">
					<h:selectBooleanCheckbox styleClass="cmpts_checkbox"
						value="#{createTitleRelationshipsWizard.selectionsForCmpts[_catCmpts]}" 
						onclick="emulateRadios(this, 'cmpts_checkbox');"/>
				</s:fragment>
				<s:fragment rendered="#{createTitleRelationshipsWizard.selectedTypeUnion}">
					<h:selectBooleanCheckbox styleClass="cmpts_checkbox"
						value="#{createTitleRelationshipsWizard.selectionsForCmpts[_catCmpts]}"/>
				</s:fragment>
			</rich:column>
			

			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="ID"
				propertyName="id"
				propertyPath="catCmpts.id"
				propertyValue="#{catCmptsList.catCmpts.id}"
				reRender="cmpts"
				value="#{_catCmpts.id}"/>
			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="Name"
				propertyName="catName"
				propertyPath="catCmpts.catName"
				propertyValue="#{catCmptsList.catCmpts.catName}"
				reRender="cmpts"
				value="#{_catCmpts.catName}"/>
			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="Lifecycle"
				propertyName="catLifecycle"
				propertyPath="catCmpts.catLifecycle"
				propertyValue="#{catCmptsList.catLifecycle}"
				reRender="cmpts"
				value="#{_catCmpts.catLifecycle.label}"/>
	
			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="Sets Name"
				propertyName="setsValue"
				propertyPath="catCmpts.setsValue"
				propertyValue="#{catCmptsList.catCmpts.setsValue}"
				reRender="cmpts"
				value="#{_catCmpts.setsValue}"/>
			
			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="Publication Unit Range"
				propertyName="catPublctnUnitRange"
				propertyPath="catCmpts.catPublctnUnitRange"
				propertyValue="#{catCmptsList.catCmpts.catPublctnUnitRange}"
				reRender="cmpts"
				value="#{_catCmpts.catPublctnUnitRange}"/>
				
			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="Date Range"
				propertyName="catDateRange"
				propertyPath="catCmpts.catDateRange"
				propertyValue="#{catCmptsList.catCmpts.catDateRange}"
				reRender="cmpts"
				value="#{_catCmpts.catDateRange}"/>
			
			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="Print ISSN"
				propertyName="catPrintIssn"
				propertyPath="catCmpts.catPrintIssn"
				propertyValue="#{catCmptsList.catCmpts.catPrintIssn}"
				reRender="cmpts"
				value="#{_catCmpts.catPrintIssn}"/>
			<cats:wizardColumn
				entityList="#{catCmptsList}"
				propertyLabel="On Hold"
				propertyName="catOnHold"
				propertyPath="catCmpts.catOnHold"
				propertyValue="#{catCmptsList.catCmpts.catOnHold}"
				reRender="cmpts"
				value="#{_catCmpts.catOnHold}"/>

		</rich:dataTable></div>
		</s:div>
	
	
</div>
	<div class="push"></div>
	<a:commandLink styleClass="button" value="Quit" limitToList="true" oncomplete="#{rich:component('createTitleRelnshpsQuit')}.show(); " 
		
		status="globalWaitStatus" ignoreDupResponses="true"/>
	
	<s:fragment rendered="#{not empty createTitleRelationshipsWizard.cmptsBulkSelection}">
			<a:commandLink styleClass="button right" value="Continue"
			onclick="if(checkRadios('cmpts_checkbox', 'Please select a Component') == false) {return false} "
			action="#{createTitleRelationshipsWizard.bulkNext}" reRender="createTitleRelnshpsWizard" 
			
			status="globalWaitStatus" ignoreDupResponses="true"/>
	</s:fragment>
	</div>
</ui:composition>
