<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:z="http://www.qualcomm.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:rich="http://richfaces.org/rich"
	  xmlns:a="http://richfaces.org/a4j"
	  xmlns:s="http://jboss.com/products/seam/taglib">

	<rich:dataTable id="#{divId}catCmptsContractDtlsCspTbl" styleClass="scroller"
				var="catContractDtls" value="#{contractDetailsLifecycleWizard.contractDtlsList}">					
					<rich:column>
						<f:facet name="header">Set Name</f:facet>
						<h:outputText value="#{catContractDtls.catCmpts.setsValue}"></h:outputText>
					</rich:column>
					<rich:column>
					<f:facet name="header">Component <br/>Name</f:facet>
						<h:outputText value="#{catContractDtls.catCmpts.catName}"></h:outputText>
					</rich:column>
					<rich:column>
						<f:facet name="header">Publisher <br/>Launch</f:facet>					
						<h:outputText value="#{contractDetailsLifecycleWizard.parentContract.catCspLaunchDate}"><s:convertDateTime type="date" pattern="yyyy/MM/dd"/></h:outputText>
					</rich:column>
					<rich:column styleClass="datestyle" rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Likely' or 
																	contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Active'}">
						<f:facet name="header">Component <br/>Launch</f:facet>
						<rich:calendar  enableManualInput="true" datePattern="yyyy/MM/dd" disabled="false" id="catContractDtlsCspDateCal" value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catCspLaunchDate}">
						</rich:calendar>
					</rich:column>					
					<rich:column styleClass="datestyle" rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Terminated'}">
						<f:facet name="header">Termination Date</f:facet>					
						<rich:calendar  enableManualInput="true" datePattern="yyyy/MM/dd" disabled="false" id="catContractDtlsCspTerminationDateCal" 
										value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catTerminationDate}">
						</rich:calendar>						
					</rich:column>
					<rich:column styleClass="datestyle" rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Declined'}">
						<f:facet name="header">Declined Date</f:facet>					
						<rich:calendar  enableManualInput="true" datePattern="yyyy/MM/dd" disabled="false" id="catContractDtlsCspDeclinedDateCal" 
										value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catDateDeclined}">
						</rich:calendar>						
					</rich:column>			
					<rich:column styleClass="required #{invalid?'error':''}" rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Declined'}">
						<f:facet name="header">Declined By</f:facet>					
						<h:selectOneMenu name="catCspDeclinedBy" value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catDeclinedBy}" required="true" >
							<f:selectItem itemLabel="JSTOR" itemValue="JSTOR"/>
							<f:selectItem itemLabel="Publisher" itemValue="Publisher"/> 	 	
						</h:selectOneMenu>						
					</rich:column>					
					<rich:column rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Declined'}">
						<f:facet name="header">Reason Declined</f:facet>					
							<h:inputTextarea cols="20" id="catContractDtlsCspReasonDeclined" rows="2" value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catDeclinedNotes}"/>						
					</rich:column>	
					<rich:column styleClass="datestyle required #{invalid?'error':''}" rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Active'}">
						<f:facet name="header">Date Added to <br/>Agreement</f:facet>					
						<rich:calendar enableManualInput="true" datePattern="yyyy/MM/dd" disabled="false" required="true" id="catContractDtlsEffectDateCal" value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catEffectiveDate}">
						</rich:calendar>						
					</rich:column>
					<rich:column styleClass="required #{invalid?'error':''}" rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Likely' or 
											contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Active'}">
						<f:facet name="header">Coverage</f:facet>
							<h:selectOneRadio styleClass="coverage" required="true" value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catAllOrPartOfCmpt}" layout="pageDirection">
								<s:selectItems itemValue="#{i}" label="#{i.label}" value="#{listsForEnums.catContractDtls_AllOrPartOfCmpt}" var="i"/>
								<a:support event="onclick" reRender="catContractDtlsRange" ajaxSingle="true" status="globalWaitStatus" limitToList="true"/>
							</h:selectOneRadio>					
						<h:inputText id="catContractDtlsRange" value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catContentCovered}" 
											disabled="#{not contractDetailsLifecycleWizard.enableContractDtlsRangeInput(catContractDtls)}"></h:inputText>
					</rich:column>						
					<rich:column styleClass="datestyle" rendered="#{contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Likely' or 
																	contractDetailsLifecycleWizard.bulkInstance.catLifecycle eq 'Active'}">
						<f:facet name="header">Digital <br/>Availability</f:facet>
						<rich:calendar  enableManualInput="true" datePattern="yyyy/MM/dd" id="catContractDtlsCspDigiCal"  value="#{contractDetailsLifecycleWizard.contractDtlsInstanceMap[catContractDtls].catCmpts.catCspDigiAvailDate}">
						</rich:calendar>
					</rich:column>					
		</rich:dataTable>	
</ui:composition>