<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib">

	<h2><h:outputText value="#{createContractDetailsWizard.bulkTitle}"/></h2>

	<div id="step1">
	<ul class="steps">
		<li class="disabled">1.Define</li>
		<li class="selected">2.Info</li>
		<li class="disabled">3.Roles-Riders</li>
		<li class="disabled">4.Results</li>
	</ul>
	
	<div class="cluster">
	
	
		<s:div styleClass="title change" rendered="#{not empty createContractDetailsWizard.parentCmptListValid}">
			<h1> Agreement Details </h1>
			<p>Some fields must be filled out on the Agreement Details in order to set the lifecycle to <strong>#{createContractDetailsWizard.bulkInstance.catLifecycle.label}</strong>. 
				The system will use the following values for your Agreement Details:</p>			
		</s:div>				
		
		<div class="smart edittable">
			<a:outputPanel layout="block" id="backFileContractDtlsPanel">			
					<s:div rendered="#{createContractDetailsWizard.parentContract.catType eq 'Backfile'}">
						<ui:include src="addContractDetails_backfileInfo.xhtml"/>
					</s:div>
			</a:outputPanel>
			
			<a:outputPanel layout="block" id="cspContractDtlsPanel">			
					<s:div rendered="#{createContractDetailsWizard.parentContract.catType eq 'Csp'}">
						<ui:include src="addContractDetails_cspInfo.xhtml"/>
					</s:div>
			</a:outputPanel>		
			
		</div>
		<div class="push"></div>
					
		<s:div id="contractInactiveAlertId" styleClass="alert" rendered="#{not empty createContractDetailsWizard.parentCmptListValid and 
													createContractDetailsWizard.bulkInstance.catLifecycle.label eq 'Active'}">
			<p>When you hit continue, the system will try to activate your Agreement Details. If it succeeds, you will not be able to reset the lifecycle of the Agreement Details or Components.</p>
		</s:div>
			
		<div class="smart">
			<s:fragment rendered="#{not empty createContractDetailsWizard.parentCmptListInvalid}">	
					<div class="title ineligible">
						<h1><h:outputText value="Components (#{createContractDetailsWizard.parentCmptListInvalid.size})"/></h1>			
						<p>You will not be able to create an Agreement Detail because the Selection Status for the following Components has not been set to <b>Targeted</b> yet.</p>			
					</div>		 		 	
					<ui:include src="wizard_resultsCmptsTable.xhtml">
						<ui:param name="value" value="#{createContractDetailsWizard.parentCmptListInvalid}"/>
					</ui:include> 
			</s:fragment>
		</div>
			
    </div>
     <div class="push"></div>                     
	<a:commandLink styleClass="button" value="Quit" limitToList="true" action="#{createContractDetailsWizard.createReset}" rendered="#{createContractDetailsWizard.showWizard()}"
		oncomplete="#{rich:component('addContractDtlsQuit')}.show();"  status="globalWaitStatus" ignoreDupResponses="true"/>
		             
	<a:commandLink styleClass="button" value="Quit" limitToList="true" action="#{createContractDetailsWizard.createReset}" rendered="#{not createContractDetailsWizard.showWizard()}"
		oncomplete="#{rich:component('addContractDtlsQuit')}.hide(); javascript:location.reload(true)"  status="globalWaitStatus" ignoreDupResponses="true"/>
	
	<a:commandLink styleClass="button right" value="Continue" status="globalWaitStatus" ignoreDupResponses="true" rendered="#{not empty createContractDetailsWizard.parentCmptListValid}"
			action="#{createContractDetailsWizard.bulkNext}" reRender="addContractDtlsWizard" limitToList="true" />
	
	
	</div>
</ui:composition>
