<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib">

	<h2><h:outputText value="#{contractDetailsWizard.wizardTitle}" /></h2>

	<div id="step1">
	<ul class="steps">
		<li class="disabled">1. Permissions</li>
		<li class="selected">2.Change</li>
		<li class="disabled">3.Additional</li>
		<li class="disabled">4.Results</li>
	</ul>

	<div class="cluster">
	<s:fragment	rendered="#{contractDetailsWizard.wizardRequiredProperties.contains('catAllOrPartOfCmpt')}">		
		<s:decorate id="catAllOrPart_div" template="../layout/edit.xhtml">
			<ui:define name="label">Covers All/Part of Component</ui:define>
			<h:selectOneMenu name="catAllOrPartOfCmpt"
				value="#{contractDetailsWizard.contractDtlsInstance.catAllOrPartOfCmpt}"
				requiredMessage="Required" required="true">
				<s:selectItems	value="#{listsForEnums.catContractDtls_AllOrPartOfCmpt}" var="i"
					itemValue="#{i}" label="#{i.label}" noSelectionLabel="Choose..." />
			</h:selectOneMenu>
		</s:decorate>
	</s:fragment>
	
	<s:fragment	rendered="#{contractDetailsWizard.wizardRequiredProperties.contains('catPssExclusions')}">		
		<s:decorate id="catPssExl_div" template="../layout/edit.xhtml">
			<ui:define name="label">PSS Exclusions</ui:define>
			<h:selectOneMenu requiredMessage="Required" required="true" name="catContractDtlsPssSelect" value="#{contractDetailsWizard.contractDtlsInstance.catPssExclusions}">
			<s:selectItems itemValue="#{i.value}" label="#{i.label}" noSelectionLabel="None..." value="#{listsForEnums.yesNo}" var="i"/>
		</h:selectOneMenu>
		</s:decorate>
	</s:fragment>
	
	<s:fragment	rendered="#{contractDetailsWizard.wizardRequiredProperties.contains('catRiders')}">
		<s:fragment rendered="#{contractDetailsWizard.ridersMatched}">
			<p>Add / Remove Riders for selected Agreement Details:</p>
		</s:fragment>   
		<s:fragment rendered="#{!contractDetailsWizard.ridersMatched}">
			<p>Selected records have different riders. To remove riders, select records with the same starting riders:</p>
		</s:fragment>        
       <rich:listShuttle id="ridersPickList"
			  sourceValue="#{contractDetailsWizard.availableRiders}"
			  targetValue="#{contractDetailsWizard.currentRiders}"			  		 
			  sourceCaptionLabel="Available Riders" 	 	   
			  targetCaptionLabel="Current Riders"			  			  
			  var="_rider"
			  converter="#{org.jboss.seam.ui.EntityConverter}"
			  copyControlLabel="Add"
			  copyAllControlLabel="Add all"
			  sourceListWidth="315" targetListWidth="315" listsHeight="350">
	     	<rich:column>
                <h:outputText value="#{_rider.catName}"></h:outputText>
            </rich:column>
		</rich:listShuttle>					
	</s:fragment>
	 </div>
	<div class="push"></div>
	<a:commandLink styleClass="button" value="Quit" limitToList="true" status="globalWaitStatus" ignoreDupResponses="true"
		oncomplete="#{rich:component('contDtlsAttrUpdateQuit')}.show(); return false;" />

	<a:commandLink styleClass="button right" value="Continue" status="globalWaitStatus" ignoreDupResponses="true"
		action="#{contractDetailsWizard.chgNext}" reRender="contDtlsChgWizard"  limitToList="true"/>

	</div>
</ui:composition>
