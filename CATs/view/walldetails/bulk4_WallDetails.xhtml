<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib">

	<h2><h:outputText value="#{catWallDtlsBulkOperations.bulkTitle}" /></h2>

	<div id="step1">
	<ul class="steps">
		<li class="disabled">1. Permissions</li>
		<li class="disabled">2. Change</li>
		<li class="disabled">3. Additional</li>
		<li class="selected">4. Results</li>
	</ul>
	<div class="cluster smart">
	
	<s:fragment	rendered="#{not empty catWallDtlsBulkOperations.bulkSelection}">
		<div class="title results">
				<h1><h:outputText value="Walls (#{catWallDtlsBulkOperations.bulkSelection.size})"/></h1>
				<p>You updated the lifecycle to <b><h:outputText value="#{catWallDtlsBulkOperations.bulkInstance.catLifecycle.label}"></h:outputText></b> for the following Walls:</p>
		</div>	
		<cats:dumbWallDetailsList value="#{catWallDtlsBulkOperations.bulkSelection}" />
	</s:fragment>
	
	<s:fragment rendered="#{not empty catWallDtlsBulkOperations.createdMWFlipList}">
			<div class="title eligible">
				<h1><h:outputText value="Moving Wall Flips (#{catWallDtlsBulkOperations.createdMWFlipList.size})" /></h1>
				<p>Also following Moving Wall Flips are created:</p>
			</div>
			<rich:dataTable value="#{catWallDtlsBulkOperations.createdMWFlipList}"
				var="_catmwallflips">
				<rich:column>
					<f:facet name="header">Flip Date</f:facet>
					<h:outputText value="#{_catmwallflips.catFlipToPublicYear}">
						<s:convertDateTime type="date" pattern="yyyy/MM/dd"/>
					</h:outputText>
				</rich:column>
				<rich:column>
					<f:facet name="header">Set Name</f:facet>
					<h:outputText value="#{_catmwallflips.catCmpts.setsValue}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">Component Name</f:facet>
					<h:outputText value="#{_catmwallflips.catCmpts.catName}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">Release Through</f:facet>
					<h:outputText value="#{_catmwallflips.catFlipPublctnDate}">
						<s:convertDateTime type="date" pattern="yyyy/MM/dd"/>
					</h:outputText>
				</rich:column>
				<rich:column>
					<f:facet name="header">Content</f:facet>
					<h:outputText value="#{_catmwallflips.catContentRange}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">Count</f:facet>
					<h:outputText value="#{_catmwallflips.catPublctnUnitCnt}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">Lifecycle</f:facet>
					<h:outputText value="#{_catmwallflips.catLifecycle.label}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">Prod Status</f:facet>
					<h:outputText value="#{_catmwallflips.catProductionStatus.label}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">In Repository</f:facet>
					<h:outputText value="#{_catmwallflips.catAllInRepository.label}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">On Hold</f:facet>
					<h:outputText value="#{_catmwallflips.catOnHold ? 'Yes' : 'No'}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">ID</f:facet>
					<h:outputText value="#{_catmwallflips.id}" />
				</rich:column>
			</rich:dataTable>
		</s:fragment>
	 
	<s:fragment	rendered="#{not empty catWallDtlsBulkOperations.effectiveDateInvalidList}">		
			<div class="title ineligible">
				<h1><h:outputText value="Walls (#{catWallDtlsBulkOperations.effectiveDateInvalidList.size})"/></h1>
				<p>You tried to advance the lifecycle to implemented for the following walls, but the system did not update them because they are missing amendment dates. Add amendment dates then advance the lifecycle.</p>
			</div>
			<div class="push"></div>
		<cats:dumbWallDetailsList	value="#{catWallDtlsBulkOperations.effectiveDateInvalidList}" />
	</s:fragment>	
	 
	<s:fragment	rendered="#{not empty catWallDtlsBulkOperations.setLifecycleInvalidList}">		
			<div class="title ineligible">
				<h1><h:outputText value="Walls (#{catWallDtlsBulkOperations.setLifecycleInvalidList.size})"/></h1>
				<p>You tried to advance the lifecycle for the following walls, but the system did not update them because the set they belong to is not signed. Advance the set's lifecycle to Rights Obtained or greater and then advance the lifecycle.</p>
			</div>
			<div class="push"></div>
		<cats:dumbWallDetailsList	value="#{catWallDtlsBulkOperations.setLifecycleInvalidList}" />
	</s:fragment>	
	 
	<s:fragment	rendered="#{not empty catWallDtlsBulkOperations.otherImplementedWallList}">		
			<div class="title ineligible">
				<h1><h:outputText value="Walls (#{catWallDtlsBulkOperations.otherImplementedWallList.size})"/></h1>
				<p>You tried to advance the lifecycle for the following walls, but the system did not update them because the set they belong to already has an <b>Implemented</b> wall. First advance the old wall's lifecycle to <b>Deprecated</b>, then advance the new wall's lifecycle.</p>
			</div>
			<div class="push"></div>
		<cats:dumbWallDetailsList	value="#{catWallDtlsBulkOperations.otherImplementedWallList}" />
	</s:fragment>	
	
	<s:fragment	rendered="#{not empty catWallDtlsBulkOperations.otherConfirmedWallList}">		
			<div class="title ineligible">
				<h1><h:outputText value="Walls (#{catWallDtlsBulkOperations.otherConfirmedWallList.size})"/></h1>
				<p>You tried to advance the lifecycle for the following walls, but the system did not update them because the set they belong to already has a <b>Confirmed</b> wall. First advance the old wall's lifecycle to <b>Deprecated</b>, then advance the new wall's lifecycle.</p>
			</div>
			<div class="push"></div>
		<cats:dumbWallDetailsList	value="#{catWallDtlsBulkOperations.otherConfirmedWallList}" />
	</s:fragment>	
	
	</div>

	<div class="push"></div>

	<s:fragment rendered="#{not catWallDtlsBulkOperations.isPubStatusSubWizard and not catWallDtlsBulkOperations.isPubStatusSubWizardNew}">
		<a:commandLink  styleClass="button right" value="Finish" action="#{catWallDtlsBulkOperations.bulkReset}" oncomplete="#{rich:component('catWallDtlsBulkPanel')}.hide(); javascript:location.reload(true);"  rendered="#{empty pageURL}" eventsQueue="bulkWallDetails" status="globalWaitStatus" ignoreDupResponses="true"   />
		<a:commandLink  styleClass="button right" value="Finish" action="#{catWallDtlsBulkOperations.bulkReset}" oncomplete="#{rich:component('catWallDtlsBulkPanel')}.hide(); javascript:location.href=formatURL(location.href,'#{selectedTab}');"  rendered="#{not empty pageURL}" eventsQueue="bulkWallDetails" status="globalWaitStatus" ignoreDupResponses="true"   />
	</s:fragment>
	
		
	<s:fragment rendered="#{catWallDtlsBulkOperations.isPubStatusSubWizard or catWallDtlsBulkOperations.isPubStatusSubWizardNew}">
	
		<a:commandLink  styleClass="button" value="Quit" reRender="catWallDtlsListWizard" oncomplete="#{rich:component('catWallDtlsBulkQuit')}.show(); return false;" eventsQueue="bulkWallDetails" status="globalWaitStatus" ignoreDupResponses="true"    >
		</a:commandLink>
		<a:commandLink  styleClass="button right" value="Continue" action="#{changePublicationStatusWizard.prepareCreateWDetailsWizard}" oncomplete="#{rich:component('catWallDtlsBulkPanel')}.hide(); #{rich:component('createWallDetailsPanel')}.show();" reRender="createWallDetailswizard" rendered="#{catWallDtlsBulkOperations.isPubStatusSubWizard}" eventsQueue="bulkWallDetails" status="globalWaitStatus" ignoreDupResponses="true"   />
			
		<a:commandLink  styleClass="button right" value="Return" action="#{changePublicationStatusWizard.finishPubStatus(catWallDtlsBulkOperations.bulkSelection.get(0))}" reRender="changePubStatusForm" oncomplete="#{rich:component('catWallDtlsBulkPanel')}.hide(); #{rich:component('changePubStatusModal')}.show();" eventsQueue="bulkWallDetails" status="globalWaitStatus" rendered="#{catWallDtlsBulkOperations.isPubStatusSubWizardNew}" ignoreDupResponses="true"   />
		</s:fragment>
	</div>

</ui:composition>
