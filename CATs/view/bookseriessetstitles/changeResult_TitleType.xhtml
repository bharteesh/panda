<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib">
	
	<h2><h:outputText value="#{changeTitleTypeWizard.wizardTitle}" /></h2>
	<div id="step1">
		<ul class="steps">
			<li class="">1. Info</li>
			<li class="selected">2. Results</li>
		</ul>
		
		<div class="cluster smart">
			<div class="title eligible">
	            <h1>#{changeTitleTypeWizard.parentType} Titles (#{changeTitleTypeWizard.updatedTitles.size})</h1>
	            <p>You successfully updated types of following #{changeTitleTypeWizard.parentType} Titles:</p>
	        </div>
	        <div>
	        	<rich:dataTable value="#{changeTitleTypeWizard.updatedTitles}"	var="_title">
					<rich:column>
						<f:facet name="header">Title</f:facet>
						<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
							<f:param name="id" value="#{_title.id}"/>
							<h:outputText value="#{_title.catTitle}" />
						</s:link>
					</rich:column>
					
					<rich:column>
						<f:facet name="header">Type</f:facet>
						<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
							<f:param name="id" value="#{_title.id}"/>
							<h:outputText value="#{_title.catType.label}" />
						</s:link>
					</rich:column>
					
					<rich:column>
						<f:facet name="header">ID</f:facet>
						<s:link action="#{LinkTo.linkTo}" view="/linkTo.xhtml" propagation="none">
							<f:param name="id" value="#{_title.id}"/>
							<h:outputText value="#{_title.id}" />
						</s:link>
					</rich:column>
				</rich:dataTable>
	        </div>
	        
	    </div>
		
		<div class="push"></div>		
		
		<a:commandLink 
		    rendered="#{not empty pageURL}"
		    styleClass="button right" 
		    value="Return"   	
		    eventsQueue="changeTitleTypeQueue"
		    status="globalWaitStatus"
			action="#{changeTitleTypeWizard.reset}" 
			oncomplete="#{rich:component('changeTitleTypeWizardModal')}.hide();javascript:location.href=formatURL(location.href,'#{selectedTab}');"
			limitToList="true"/>
		
	</div>
	
</ui:composition>