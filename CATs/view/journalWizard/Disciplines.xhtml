<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:z="http://www.qualcomm.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:cats="http://www.ithaka.org/cats"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:dui="http://openorganize.com/platform/dui">

	<h2><h:outputText value="#{createJournalWizard.wizardTitle}" /></h2>

	<div id="step1">
		<ul class="steps many">
			<li class="disabled">...</li>
			<li class="">5. Rights</li>
			<li class="">6. Publisher Roles</li>
			<li class="selected">7. Disciplines</li>
			<li class="disabled">8. Results</li>
		</ul>
		<div class="cluster smart">
			
			<s:fragment rendered="#{!(s:hasPermission(createJournalWizard.catCmptsHome.instance, 'add_reln catComponentDisciplines') or s:hasPermission(createJournalWizard.catCmptsHome.instance, 'modify catComponentDisciplines'))}">
				<p>You do not have permissions to work with disciplines. Hit Continue to continue creating the journal.</p>
			</s:fragment>
			<s:fragment rendered="#{(s:hasPermission(createJournalWizard.catCmptsHome.instance, 'add_reln catComponentDisciplines') or s:hasPermission(createJournalWizard.catCmptsHome.instance, 'modify catComponentDisciplines'))}">
				<s:fragment rendered="#{empty createJournalWizard.componentsWithDisciplinesList}">
					<p>Add as many disciplines as you want, then hit Continue to save your changes and continue creating the journal.</p>
					<a:commandLink styleClass="button wizardleft" value="Edit disciplines"
						action="#{createJournalWizard.showDisciplinesView1}"
						reRender="createJournalForm" 
						eventsQueue="journalQueue"
						status="globalWaitStatus"/>
				</s:fragment>
				<s:fragment rendered="#{not empty createJournalWizard.componentsWithDisciplinesList}">
					<p>Select a Component in the same Set to copy disciplines from.</p>
					<div class="scroller">
						<rich:panel>
							<f:facet name="header">
								<h:outputText value="Components in the Set" />
							</f:facet>
						</rich:panel>
						<rich:dataTable id="catCmptsOfSet"
						var="_catCmpts" value="#{createJournalWizard.componentsWithDisciplinesList}"
						rowClasses="odd,even">
			
							<rich:column styleClass="checkBoxes" headerClass="checkBoxes">
								<s:fragment>
									<h:selectBooleanCheckbox styleClass="bulk_checkbox_addDiscTitle"
										value="#{createJournalWizard.selectionsForCrntCmpts[_catCmpts]}"
										onclick="emulateRadios(this, 'bulk_checkbox_addDiscTitle');" />
								</s:fragment>
							</rich:column>
				
							<rich:column id="id">
								<f:facet name="header">
									<h:outputText value="ID" />
								</f:facet>
								<h:outputText value="#{_catCmpts.id}" />
							</rich:column>
							<rich:column id="catName">
								<f:facet name="header">
									<h:outputText value="Name" />
								</f:facet>
								<h:outputText value="#{_catCmpts.catName}" />
							</rich:column>
							<rich:column id="catLifecycle">
								<f:facet name="header">
									<h:outputText value="Lifecycle" />
								</f:facet>
								<h:outputText value="#{_catCmpts.catLifecycle}" />
							</rich:column>
				
							<rich:column id="setName">
								<f:facet name="header">
									<h:outputText value="Sets" />
								</f:facet>
								<h:outputText value="#{_catCmpts.setsValue}" />
							</rich:column>
							
							<rich:column id="catDisciplines">
								<f:facet name="header">
									<h:outputText value="Disciplines" />
								</f:facet>
								<h:outputText value="#{_catCmpts.disciplinesValue}" />
							</rich:column>
							
							<rich:column id="catDateRange">
								<f:facet name="header">
									<h:outputText value="Date Range" />
								</f:facet>
								<h:outputText value="#{_catCmpts.catDateRange}" />
							</rich:column>
							<rich:column id="catPrintIssn">
								<f:facet name="header">
									<h:outputText value="Print ISSN" />
								</f:facet>
								<h:outputText value="#{_catCmpts.catPrintIssn}" />
							</rich:column>
							<rich:column id="catOnHold">
								<f:facet name="header">
									<h:outputText value="On Hold" />
								</f:facet>
								<h:outputText value="#{_catCmpts.catOnHold ? 'Yes' : 'No'}" />
							</rich:column>
			
						</rich:dataTable>
					</div>
				</s:fragment>
			</s:fragment>
			
		</div>
		
		<div class="push"></div>
	
		<a:commandLink styleClass="button" value="Quit"
			oncomplete="#{rich:component('createJournalQuit')}.show(); return false;"
			eventsQueue="journalQueue"
			status="globalWaitStatus"/>
		 
		<s:fragment rendered="#{(s:hasPermission(createJournalWizard.catCmptsHome.instance, 'add_reln catComponentDisciplines') or s:hasPermission(createJournalWizard.catCmptsHome.instance, 'modify catComponentDisciplines'))}">
			<a:commandLink styleClass="button right" value="Skip"
				action="#{createJournalWizard.showResultsView}"
				reRender="createJournalForm" 
				eventsQueue="journalQueue"
				status="globalWaitStatus"/>
				
			<a:commandLink styleClass="button right" value="Continue"
				action="#{createJournalWizard.showDisciplinesView1}"
				reRender="createJournalForm" 
				eventsQueue="journalQueue"
				status="globalWaitStatus"
				rendered="#{not empty createJournalWizard.componentsWithDisciplinesList}"
				onclick="if(checkRadios('bulk_checkbox_addDiscTitle', 'Please select a Component') == false) {return false};"/>
		</s:fragment>
		
		<s:fragment rendered="#{!(s:hasPermission(createJournalWizard.catCmptsHome.instance, 'add_reln catComponentDisciplines') or s:hasPermission(createJournalWizard.catCmptsHome.instance, 'modify catComponentDisciplines'))}">
			<a:commandLink styleClass="button right" value="Continue"
				action="#{createJournalWizard.showResultsView}"
				reRender="createJournalForm" 
				eventsQueue="journalQueue"
				status="globalWaitStatus"/>
		</s:fragment>
		
	</div>
</ui:composition>
